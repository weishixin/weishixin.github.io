<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/web-site-logo.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="欢迎来到魏小威的新世界！">
<meta name="keywords" content="努力给爱的人最好的明天！">
<meta property="og:type" content="website">
<meta property="og:title" content="魏小威的个人博客">
<meta property="og:url" content="https://weishixin.github.io/index.html">
<meta property="og:site_name" content="魏小威的个人博客">
<meta property="og:description" content="欢迎来到魏小威的新世界！">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="魏小威的个人博客">
<meta name="twitter:description" content="欢迎来到魏小威的新世界！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://weishixin.github.io/">





  <title>魏小威的个人博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">魏小威的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2020/01/04/毕业设计Android的坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/04/毕业设计Android的坑/" itemprop="url">毕业设计Android的坑</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-01-04T17:26:25+08:00">
                2020-01-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/毕设/" itemprop="url" rel="index">
                    <span itemprop="name">毕设</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/01/04/毕业设计Android的坑/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/01/04/毕业设计Android的坑/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.5k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="一、虹软人脸识别"><a href="#一、虹软人脸识别" class="headerlink" title="一、虹软人脸识别"></a>一、虹软人脸识别</h1><h2 id="1-手机拍摄图片上传到服务器，Web端提取不到人脸信息"><a href="#1-手机拍摄图片上传到服务器，Web端提取不到人脸信息" class="headerlink" title="1. 手机拍摄图片上传到服务器，Web端提取不到人脸信息"></a>1. 手机拍摄图片上传到服务器，Web端提取不到人脸信息</h2><p>&nbsp;&nbsp;在Android里面，使用Camera的onPreview方法把当前帧保存为bitMap，然后转为jpeg格式的图片，上传到服务器识别，通过日志，发现提取的人脸特征数组为null。</p>
<p>&nbsp;&nbsp;<strong>原因</strong>&nbsp;&nbsp;虽然预览的TextureView组件里的照片是人脸向上的，但OnPreview函数里面的byte数组格式保存的图片信息其实是与传感器里的成像一样，是与正常照片（水平方向）顺时针旋转了90度的，因此需要在服务端顺时针再旋转279度（或者逆时针旋转90度）就可以恢复为正常正脸图片。<br>&nbsp;&nbsp;<strong>代码实例</strong>&nbsp;&nbsp;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">"/faceSearch"</span>, method = RequestMethod.POST, produces = &#123;<span class="string">"application/json;charset=UTF-8"</span>&#125;)</span><br><span class="line"><span class="comment">//    @RequestMapping(value = "/faceSearch", method = RequestMethod.POST)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line"><span class="comment">//    public Result&lt;FaceSearchResDto&gt; faceSearch(@RequestParam("file") String file, @RequestParam("groupId") Integer groupId) throws Exception &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result&lt;FaceSearchResDto&gt; <span class="title">faceSearch</span><span class="params">(@RequestBody FaceRecognizeVO faceRecognizeVO)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String file = faceRecognizeVO.getFile();</span><br><span class="line">        Integer groupId = faceRecognizeVO.getGroupId();</span><br><span class="line"><span class="comment">//        Integer width = faceRecognizeVO.getWidth();</span></span><br><span class="line"><span class="comment">//        Integer height = faceRecognizeVO.getHeight();</span></span><br><span class="line"><span class="comment">//        logger.info("接受到的file是："+file + "\ngroupId is :" + groupId);</span></span><br><span class="line">        <span class="keyword">if</span> (groupId == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Results.newFailedResult(<span class="string">"groupId is null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 原本写法----------------</span></span><br><span class="line">        String baseProcessString = base64Process(file);</span><br><span class="line">        <span class="keyword">byte</span>[] decode = Base64.decode(baseProcessString);</span><br><span class="line"><span class="comment">//        logger.info("经过base64处理过的file是：" + baseProcessString);</span></span><br><span class="line"><span class="comment">//        logger.info("decode字节数组是：" + Arrays.toString(decode));</span></span><br><span class="line">        <span class="comment">// -----------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        byte[] decode = Base64.decode(file);</span></span><br><span class="line">        BufferedImage bufImage = ImageIO.read(<span class="keyword">new</span> ByteArrayInputStream(decode));</span><br><span class="line">        <span class="comment">// 重点 旋转</span></span><br><span class="line">        bufImage = ImageUtil.rotateImage(bufImage, -<span class="number">90</span>); <span class="comment">// 将人脸逆时针放正 进行识别</span></span><br><span class="line">        ImageInfo imageInfo = ImageFactory.bufferedImage2ImageInfo(bufImage);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//人脸特征获取</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = faceEngineService.extractFaceFeature(imageInfo);</span><br><span class="line"><span class="comment">//        byte[] bytes = faceEngineService.extractFaceFeature(decode, width, height);</span></span><br><span class="line">        logger.info(<span class="string">"提取的人脸特征字节数组是："</span> + Arrays.toString(bytes));</span><br><span class="line">        <span class="keyword">if</span> (bytes == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Results.newFailedResult(ErrorCodeEnum.NO_FACE_DETECTED);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//人脸比对，获取比对结果</span></span><br><span class="line">        List&lt;FaceUserInfo&gt; userFaceInfoList = faceEngineService.compareFaceFeature(bytes, groupId);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (CollectionUtil.isNotEmpty(processInfoList)) &#123;</span><br><span class="line">                <span class="comment">// 人脸检测</span></span><br><span class="line">                List&lt;FaceInfo&gt; faceInfoList = faceEngineService.detectFaces(imageInfo);</span><br><span class="line"><span class="comment">//                List&lt;FaceInfo&gt; faceInfoList = faceEngineService.detectFaces(bytes, width, height, ImageFormat.CP_PAF_NV21);</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> left = faceInfoList.get(<span class="number">0</span>).getRect().getLeft();</span><br><span class="line">                <span class="keyword">int</span> top = faceInfoList.get(<span class="number">0</span>).getRect().getTop();</span><br><span class="line">                <span class="keyword">int</span> width_ = faceInfoList.get(<span class="number">0</span>).getRect().getRight() - left;</span><br><span class="line">                <span class="keyword">int</span> height_ = faceInfoList.get(<span class="number">0</span>).getRect().getBottom() - top;</span><br><span class="line"></span><br><span class="line">                Graphics2D graphics2D = bufImage.createGraphics();</span><br><span class="line">                graphics2D.setColor(Color.RED); <span class="comment">//红色</span></span><br><span class="line">                BasicStroke stroke = <span class="keyword">new</span> BasicStroke(<span class="number">5f</span>);</span><br><span class="line">                graphics2D.setStroke(stroke);</span><br><span class="line">                graphics2D.drawRect(left, top, width_, height_);</span><br><span class="line">                ByteArrayOutputStream outputStream = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">                ImageIO.write(bufImage, <span class="string">"jpg"</span>, outputStream);</span><br><span class="line">                <span class="keyword">byte</span>[] bytes1 = outputStream.toByteArray();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                faceSearchResDto.setImage(<span class="string">"data:image/jpeg;base64,"</span> + Base64Utils.encodeToString(bytes1));</span><br><span class="line"></span><br><span class="line"><span class="comment">//                faceSearchResDto.setImageBytes(bytes);</span></span><br><span class="line">                faceSearchResDto.setAge(processInfoList.get(<span class="number">0</span>).getAge());</span><br><span class="line">                faceSearchResDto.setGender(processInfoList.get(<span class="number">0</span>).getGender().equals(<span class="number">1</span>) ? <span class="string">"女"</span> : <span class="string">"男"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> Results.newSuccessResult(faceSearchResDto);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Results.newFailedResult(ErrorCodeEnum.FACE_DOES_NOT_MATCH);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>其中的处理旋转的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageUtil</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 旋转图片为指定角度</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bufferedimage</span></span><br><span class="line"><span class="comment">     *            目标图像</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> degree</span></span><br><span class="line"><span class="comment">     *            旋转角度</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BufferedImage <span class="title">rotateImage</span><span class="params">(<span class="keyword">final</span> BufferedImage bufferedimage,</span></span></span><br><span class="line"><span class="function"><span class="params">                                            <span class="keyword">final</span> <span class="keyword">int</span> degree)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> w = bufferedimage.getWidth();</span><br><span class="line">        <span class="keyword">int</span> h = bufferedimage.getHeight();</span><br><span class="line">        <span class="keyword">int</span> type = bufferedimage.getColorModel().getTransparency();</span><br><span class="line">        BufferedImage img;</span><br><span class="line">        Graphics2D graphics2d;</span><br><span class="line">        (graphics2d = (img = <span class="keyword">new</span> BufferedImage(w, h, type))</span><br><span class="line">                .createGraphics()).setRenderingHint(</span><br><span class="line">                RenderingHints.KEY_INTERPOLATION,</span><br><span class="line">                RenderingHints.VALUE_INTERPOLATION_BILINEAR);</span><br><span class="line">        graphics2d.rotate(Math.toRadians(degree), w / <span class="number">2</span>, h / <span class="number">2</span>);</span><br><span class="line">        graphics2d.drawImage(bufferedimage, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">null</span>);</span><br><span class="line">        graphics2d.dispose();</span><br><span class="line">        <span class="keyword">return</span> img;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;Android端的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initCamera</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DisplayMetrics metrics = <span class="keyword">new</span> DisplayMetrics();</span><br><span class="line">        getWindowManager().getDefaultDisplay().getMetrics(metrics);</span><br><span class="line"></span><br><span class="line">        CameraListener cameraListener = <span class="keyword">new</span> CameraListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCameraOpened</span><span class="params">(Camera camera, <span class="keyword">int</span> cameraId, <span class="keyword">int</span> displayOrientation, <span class="keyword">boolean</span> isMirror)</span> </span>&#123;</span><br><span class="line">                Camera.Size lastPreviewSize = previewSize;</span><br><span class="line">                previewSize = camera.getParameters().getPreviewSize();</span><br><span class="line"><span class="comment">//                drawHelper = new DrawHelper(previewSize.width, previewSize.height, previewView.getWidth(), previewView.getHeight(), displayOrientation</span></span><br><span class="line"><span class="comment">//                        , cameraId, isMirror, false, false);</span></span><br><span class="line"><span class="comment">//                Log.i(TAG, "onCameraOpened: " + drawHelper.toString());</span></span><br><span class="line">                <span class="comment">// 切换相机的时候可能会导致预览尺寸发生变化</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPreview</span><span class="params">(<span class="keyword">final</span> <span class="keyword">byte</span>[] nv21, Camera camera)</span> </span>&#123;</span><br><span class="line"><span class="comment">//                byte[] encode = Base64.encode(nv21, Base64.DEFAULT);</span></span><br><span class="line"><span class="comment">//                requestImageFromCamera = Arrays.toString(encode);</span></span><br><span class="line"><span class="comment">//                requestImageFromCamera = Base64.encode(nv21, Base64.DEFAULT)</span></span><br><span class="line"><span class="comment">//                requestImageFromCamera = new String(encode);</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (camera == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">                Bitmap bitmap = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">//                byte[] bgr24 = null;</span></span><br><span class="line">                YuvImage img = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">byte</span>[] bytesData = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">////                    SimpleDateFormat sdf = new SimpleDateFormat("HHMMSS");</span></span><br><span class="line"><span class="comment">//                    //相机预览获取到的data数据不能直接转为bitmap存储，因为该数据是YUV格式的，需要进行数据转换</span></span><br><span class="line"><span class="comment">////                    Camera.Size size = camera.getParameters().getPreviewSize();//获得预览图像设置的尺寸</span></span><br><span class="line">                    img = <span class="keyword">new</span> YuvImage(nv21, ImageFormat.NV21, previewSize.width, previewSize.height, <span class="keyword">null</span>);</span><br><span class="line">                    ByteArrayOutputStream stream = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">                    img.compressToJpeg(<span class="keyword">new</span> Rect(<span class="number">0</span>, <span class="number">0</span>, previewSize.width, previewSize.height), <span class="number">90</span>, stream);</span><br><span class="line">                    <span class="keyword">byte</span>[] tmpBytes = stream.toByteArray();</span><br><span class="line">                    bitmap = BitmapFactory.decodeByteArray(tmpBytes,<span class="number">0</span>, tmpBytes.length);</span><br><span class="line"><span class="comment">//                    bitmap = FacePreviewFrameUtil.rotaingImageView(270, bitmap); // 本来打算 在Android端 做顺时针旋转270度的，但是发现怎么都不起作用，传过去的还是旋转了90度的图片，因此只能把图片旋转放到服务端了</span></span><br><span class="line"><span class="comment">//                    bitmap = FacePreviewFrameUtil.rotateBitmapByDegree(bitmap, 270);</span></span><br><span class="line">                    <span class="keyword">int</span> options = <span class="number">100</span>;</span><br><span class="line">                    <span class="keyword">while</span> (stream.toByteArray().length / <span class="number">1024</span> &gt; <span class="number">1000</span>) &#123; <span class="comment">//循环判断如果压缩后图片是否大于1000kb,大于继续压缩</span></span><br><span class="line">                        stream.reset(); <span class="comment">// 重置stream 即清空stream</span></span><br><span class="line">                        bitmap.compress(Bitmap.CompressFormat.JPEG, options, stream); <span class="comment">//这里压缩options%，把压缩后的数据存放到stream中</span></span><br><span class="line">                        options -= <span class="number">10</span>; <span class="comment">// 每次减少10</span></span><br><span class="line"><span class="comment">//                        Log.d(TAG, "自己数组长度为： "+ stream.toByteArray().length);</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="comment">//                    Log.d(TAG, "自己数组长度为： "+ stream.toByteArray().length);</span></span><br><span class="line">                    <span class="comment">// 将bitmap 转成为 bgr24格式的图片数据</span></span><br><span class="line"><span class="comment">//                    bgr24 = ArcSoftImageUtil.createImageData(bitmap.getWidth(), bitmap.getHeight(), ArcSoftImageFormat.BGR24);</span></span><br><span class="line"><span class="comment">//                    int transformCode = ArcSoftImageUtil.bitmapToImageData(bitmap, bgr24, ArcSoftImageFormat.BGR24);</span></span><br><span class="line"><span class="comment">//                    if (transformCode != ArcSoftImageUtilError.CODE_SUCCESS) &#123;</span></span><br><span class="line"><span class="comment">//                        Log.e(TAG, "transform failed, code is " + transformCode);</span></span><br><span class="line"><span class="comment">//                        return;</span></span><br><span class="line"><span class="comment">//                    &#125;</span></span><br><span class="line">                    bitmap.compress(Bitmap.CompressFormat.JPEG, <span class="number">80</span>, stream);</span><br><span class="line">                    bytesData = stream.toByteArray();</span><br><span class="line">                    stream.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception exception) &#123;</span><br><span class="line">                    Log.e(TAG, <span class="string">"Exception : "</span> + exception.getMessage());</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">                <span class="keyword">if</span> (bytesData == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//                requestImageFromCamera = Base64.encodeToString(nv21, Base64.DEFAULT);</span></span><br><span class="line">                requestImageFromCamera = Base64.encodeToString(bytesData, Base64.NO_WRAP);</span><br><span class="line">                requestImageFromCamera = <span class="string">"data:image/jpeg;base64,"</span> + requestImageFromCamera;</span><br><span class="line"><span class="comment">//                requestImageFromCamera = Base64.encodeToString(bgr24, Base64.NO_WRAP);</span></span><br><span class="line"><span class="comment">//                MyLogUtil.d(TAG, "requestImageFromCamera length is " + requestImageFromCamera.length());</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//                Log.i(TAG,"requestImageFromCamera is " + requestImageFromCamera);</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCameraClosed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                Log.i(TAG, <span class="string">"onCameraClosed: "</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCameraError</span><span class="params">(Exception e)</span> </span>&#123;</span><br><span class="line">                Log.i(TAG, <span class="string">"onCameraError: "</span> + e.getMessage());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCameraConfigurationChanged</span><span class="params">(<span class="keyword">int</span> cameraID, <span class="keyword">int</span> displayOrientation)</span> </span>&#123;</span><br><span class="line"><span class="comment">//                if (drawHelper != null) &#123;</span></span><br><span class="line"><span class="comment">//                    drawHelper.setCameraDisplayOrientation(displayOrientation);</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line">                Log.i(TAG, <span class="string">"onCameraConfigurationChanged: "</span> + cameraID + <span class="string">"  "</span> + displayOrientation);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        cameraHelper = <span class="keyword">new</span> CameraHelper.Builder()</span><br><span class="line">                .previewViewSize(<span class="keyword">new</span> Point(previewView.getMeasuredWidth(), previewView.getMeasuredHeight()))</span><br><span class="line">                .rotation(getWindowManager().getDefaultDisplay().getRotation())</span><br><span class="line">                .specificCameraId(rgbCameraID != <span class="keyword">null</span> ? rgbCameraID : Camera.CameraInfo.CAMERA_FACING_FRONT)</span><br><span class="line">                .isMirror(<span class="keyword">false</span>)</span><br><span class="line">                .previewOn(previewView)</span><br><span class="line">                .cameraListener(cameraListener)</span><br><span class="line">                .build();</span><br><span class="line">        cameraHelper.init();</span><br><span class="line">        cameraHelper.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initView</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        previewView = findViewById(R.id.single_camera_texture_preview);</span><br><span class="line">        <span class="comment">//在布局结束后才做初始化操作</span></span><br><span class="line">        previewView.getViewTreeObserver().addOnGlobalLayoutListener(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        editText_register_name = findViewById(R.id.et_name);</span><br><span class="line">        textView_recognize_name = findViewById(R.id.tv_test_result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 点击识别响应方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recognize</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">        String url = <span class="string">"http://172.19.135.76:8089/faceSearch"</span>;</span><br><span class="line"><span class="comment">//        String url = "http://192.168.31.38:8089/faceSearch";</span></span><br><span class="line">        OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">        String requestParam = <span class="string">"&#123;\"file\":\""</span>+ requestImageFromCamera +<span class="string">"\",\"groupId\":101&#125;"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> MediaType JSON = MediaType.parse(<span class="string">"application/json; charset=utf-8"</span>); <span class="comment">//数据类型为json格式，</span></span><br><span class="line">        <span class="keyword">final</span> RequestBody requestBody = RequestBody.create(JSON, requestParam);</span><br><span class="line">        <span class="keyword">final</span> Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">                .url(url)</span><br><span class="line">                .post(requestBody)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        client.newCall(request).enqueue(<span class="keyword">new</span> Callback() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(Call call, IOException e)</span> </span>&#123;</span><br><span class="line">                Message msg = <span class="keyword">new</span> Message();</span><br><span class="line">                msg.what = Recognize_Error;</span><br><span class="line">                uiHandler.sendMessage(msg);</span><br><span class="line">                Log.i(TAG, <span class="string">"异步访问发送失败"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(Call call, Response response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">                <span class="keyword">final</span> String responseBody = response.body().string();</span><br><span class="line">                Log.i(TAG, <span class="string">"responseBody是 "</span> + responseBody);</span><br><span class="line">                FaceSearchResDTO faceSearchResult = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">if</span> (response.isSuccessful()) &#123;</span><br><span class="line">                    Log.i(TAG, <span class="string">"我进来了"</span>);</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        JSONObject jsonObject = <span class="keyword">new</span> JSONObject(responseBody);</span><br><span class="line">                        String data = jsonObject.get(<span class="string">"data"</span>).toString();</span><br><span class="line">                        faceSearchResult = (<span class="keyword">new</span> Gson()).fromJson(data, FaceSearchResDTO.class);</span><br><span class="line">                        Log.i(TAG, faceSearchResult.getName());</span><br><span class="line"></span><br><span class="line">                        Message msg = <span class="keyword">new</span> Message();</span><br><span class="line">                        msg.what = Recognize_Success;</span><br><span class="line">                        msg.obj = faceSearchResult.getName();</span><br><span class="line">                        uiHandler.sendMessage(msg);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (JSONException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Message msg = <span class="keyword">new</span> Message();</span><br><span class="line">                    msg.what = Recognize_Fail;</span><br><span class="line">                    uiHandler.sendMessage(msg);</span><br><span class="line">                    Log.i(TAG, <span class="string">"sorry, it's wrong, the response is "</span> + response.toString());</span><br><span class="line">                &#125;</span><br><span class="line">                response.body().close(); <span class="comment">// 防止 response body is not closed warning</span></span><br><span class="line">                call.cancel();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/09/11/小米2019软件开发笔试-模拟2048/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/11/小米2019软件开发笔试-模拟2048/" itemprop="url">小米2019软件开发笔试-模拟2048</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-11T21:20:11+08:00">
                2019-09-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔试/" itemprop="url" rel="index">
                    <span itemprop="name">笔试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/11/小米2019软件开发笔试-模拟2048/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/09/11/小米2019软件开发笔试-模拟2048/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  752 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;额，具体描述忘了，不过相信大家都有自己玩过2048，题意大概是这样：请你模拟2048游戏，实现从当前界面往左滑动的情况，并打印出来。<br>&nbsp;&nbsp;&nbsp;&nbsp;给出用例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">4 // 表示下面有4行</span><br><span class="line">0 0 2 2</span><br><span class="line">0 4 2 2 </span><br><span class="line">2 2 4 4</span><br><span class="line">4 4 4 8</span><br><span class="line"></span><br><span class="line">输出如下：</span><br><span class="line">4 0 0 0</span><br><span class="line">8 0 0 0</span><br><span class="line">8 4 0 0</span><br><span class="line">8 4 8 0</span><br></pre></td></tr></table></figure>

<p>&nbsp;&nbsp;&nbsp;&nbsp;其实这里题意有表述不清的地方，因为不知道是不是输入n表示矩阵的阶数，这里我的解法姑且这么认为。不是的话其实也不难做处理。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;一开始打算直接从左往右做的，这样做了一下，确实不可行，可惜我在做题的时候，由于时间限制，想着先实现一个版本再说，先跑几个用例，拿点分。没有在一开始就想到用栈来做，其实这道题用栈来做会方便很多。哎，我还是太菜了鸭～<br>&nbsp;&nbsp;&nbsp;&nbsp;实现思路：<br>核心思路如下面的伪代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">申请两个stack: stack1, stack2</span><br><span class="line">遍历每一行的各元素 x :</span><br><span class="line">    if x == 0 :</span><br><span class="line">        continue;</span><br><span class="line">    else :</span><br><span class="line">        if stack1 不为空 ：</span><br><span class="line">            int temp = x;</span><br><span class="line">            while( stack1 不为空 &amp;&amp; stack1.peek() ==  temp):</span><br><span class="line">                temp = stack1.pop();</span><br><span class="line">                temp = temp &lt;&lt; 1;</span><br><span class="line">            stack1.push(temp)</span><br><span class="line">        else :</span><br><span class="line">            stack1.push(x)</span><br><span class="line">// 利用stack2 实现 stack1的元素逆序</span><br><span class="line">然后想办法把stack2 的元素拼接起来，不够的用0 来补充</span><br></pre></td></tr></table></figure>

<h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><h2 id="Java实现"><a href="#Java实现" class="headerlink" title="Java实现"></a>Java实现</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.text.*;</span><br><span class="line"><span class="keyword">import</span> java.math.*;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2048</span> </span>&#123;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    请完成下面这个函数，实现题目要求的功能</span></span><br><span class="line"><span class="comment">    当然，你也可以不按照下面这个模板来作答，完全按照自己的想法来 ^-^</span></span><br><span class="line"><span class="comment">    ******************************开始写代码******************************/</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> String <span class="title">solution</span><span class="params">(String[] input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = input.length;</span><br><span class="line">        String[] ans = <span class="keyword">new</span> String[n];</span><br><span class="line"></span><br><span class="line">        Stack&lt;Integer&gt; stack1 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        Stack&lt;Integer&gt; stack2 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            String ansLine = <span class="string">""</span>;</span><br><span class="line">            List&lt;String&gt; resLine = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            String[] strArray = input[i].split(<span class="string">" "</span>);</span><br><span class="line">            <span class="keyword">int</span> m = strArray.length;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j ++ )&#123;</span><br><span class="line">                <span class="keyword">int</span> cur = Integer.parseInt(strArray[j]);</span><br><span class="line">                <span class="keyword">if</span> (cur == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span>(!stack1.isEmpty()) &#123;</span><br><span class="line">                        <span class="keyword">int</span> tempNew = cur; <span class="comment">// 用了表示下面经过层层迭代，最后放到stack1中的值</span></span><br><span class="line">                        <span class="keyword">while</span> (!stack1.isEmpty() &amp;&amp; stack1.peek() == tempNew) &#123;</span><br><span class="line">                            <span class="keyword">int</span> curStackTop = stack1.pop();</span><br><span class="line">                            tempNew = curStackTop &lt;&lt; <span class="number">1</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        stack1.push(tempNew);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        stack1.push(cur);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!stack1.isEmpty()) &#123;</span><br><span class="line">                stack2.push(stack1.pop());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!stack2.isEmpty()) &#123;</span><br><span class="line">                resLine.add(String.valueOf(stack2.pop()));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 拼凑stack2</span></span><br><span class="line">            <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(String s : resLine) &#123;</span><br><span class="line">                ansLine += (s);</span><br><span class="line">                <span class="keyword">if</span>(k &lt; m-<span class="number">1</span>) &#123;</span><br><span class="line">                    ansLine += <span class="string">" "</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                k ++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (k &lt; m) &#123;</span><br><span class="line">                ansLine += <span class="string">"0"</span>;</span><br><span class="line">                <span class="keyword">if</span>(k &lt; m-<span class="number">1</span>) &#123;</span><br><span class="line">                    ansLine += <span class="string">" "</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                k ++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans[i] = ansLine;</span><br><span class="line">            <span class="comment">// clear</span></span><br><span class="line">            stack1.clear();</span><br><span class="line">            stack2.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        String ss = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++) &#123;</span><br><span class="line">            ss += ans[i] + <span class="string">"\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ss;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/******************************结束写代码******************************/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String res;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> _input_size = <span class="number">0</span>;</span><br><span class="line">        _input_size = Integer.parseInt(in.nextLine().trim());</span><br><span class="line">        String[] _input = <span class="keyword">new</span> String[_input_size];</span><br><span class="line">        String _input_item;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> _input_i = <span class="number">0</span>; _input_i &lt; _input_size; _input_i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                _input_item = in.nextLine();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                _input_item = <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            _input[_input_i] = _input_item;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        res = solution(_input);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/09/10/Java常用知识点（个人向积累）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/10/Java常用知识点（个人向积累）/" itemprop="url">Java常用知识点（个人向积累）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-10T15:15:27+08:00">
                2019-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/10/Java常用知识点（个人向积累）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/09/10/Java常用知识点（个人向积累）/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.2k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h1><h2 id="1-十进制转其它进制"><a href="#1-十进制转其它进制" class="headerlink" title="1. 十进制转其它进制"></a>1. 十进制转其它进制</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;Integer.toBinaryString(365) // 十进制转二进制<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.toHexString(127) // 十进制转十六进制<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.toOctalString(365) // 十进制转八进制<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.toString(10,16)<br>&nbsp;&nbsp;&nbsp;&nbsp;// 十进制转换成对应进制数， 不适合用于负数，第一个参数为转换数，第二个参数为转换进制</p>
<h2 id="2-其它进制数转十进制"><a href="#2-其它进制数转十进制" class="headerlink" title="2. 其它进制数转十进制"></a>2. 其它进制数转十进制</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;// N进制转换成十进制，返回类型为int,第一个参数为字符串，第二个参数为进制<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.parseInt(“1010”,2)<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.parseInt(“1010”,8)<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.parseInt(“1010”,16)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Integer.valueOf(“1010”,2)<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.valueOf(“1010”,8)<br>&nbsp;&nbsp;&nbsp;&nbsp;Integer.valueOf(“1010”,16)</p>
<h1 id="SSL-和-SSH-的区别"><a href="#SSL-和-SSH-的区别" class="headerlink" title="SSL 和 SSH 的区别"></a>SSL 和 SSH 的区别</h1><h2 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;SSL是国际认证的加密和身份认证的通信协议，</p>
<p>官网原文如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> SSH (Secure Shell) and SSL (Secure Sockets Layer) can both be used to secure communications across the Internet. This page tries to explain the differences between the two in easily understood terms.</span><br><span class="line"></span><br><span class="line">SSL was designed to secure web sessions; it can do more, but that&apos;s the original intent.</span><br><span class="line"></span><br><span class="line">SSH was designed to replace telnet and FTP; it can do more, but that&apos;s the original intent.</span><br><span class="line"></span><br><span class="line">SSL is a drop-in with a number of uses. It front-ends HTTP to give you HTTPS. It can also do this for POP3, SMTP, IMAP, and just about any other well-behaved TCP application. It&apos;s real easy for most programmers who are creating network applications from scratch to just grab an SSL implementation and bundle it with their app to provide encryption when communicating across the network via TCP. Check out: stunnel.org.</span><br><span class="line"></span><br><span class="line">SSH is a swiss-army-knife designed to do a lot of different things, most of which revolve around setting up a secure tunnel between hosts. Some implementations of SSH rely on SSL libraries - this is because SSH and SSL use many of the same encryption algorithms (i.e. TripleDES).</span><br><span class="line"></span><br><span class="line">SSH is not based on SSL in the sense that HTTPS is based on SSL. SSH does much more than SSL, and they don&apos;t talk to each other - the two are different protocols, but have some overlap in how they accomplish similiar goals.</span><br><span class="line"></span><br><span class="line">SSL by itself gives you nothing - just a handshake and encryption. You need an application to drive SSL to get real work done.</span><br><span class="line"></span><br><span class="line">SSH by itself does a whole lot of useful stuff that allows users to perform real work. Two aspects of SSH are the console login (telnet replacement) and secure file transfers (ftp replacement), but you also get an ability to tunnel (secure) additional applications, enabling a user to run HTTP, FTP, POP3, and just about anything else THROUGH an SSH tunnel.</span><br><span class="line"></span><br><span class="line">Without interesting traffic from an application, SSL does nothing. Without interesting traffic from an application, SSH brings up an encrypted tunnel between two hosts which allows you to get real work done through an interactive login shell, file transfers, etc.</span><br><span class="line"></span><br><span class="line">Last comment: HTTPS does not extend SSL, it uses SSL to do HTTP securely. SSH does much more than SSL, and you can tunnel HTTPS through it! Just because both SSL and SSH can do TripleDES doesn&apos;t mean one is based on the other.</span><br></pre></td></tr></table></figure>

<p>译文：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">SSH（安全外壳）和SSL（安全套接字层）都可用于保护Internet上的通信。本页试图用易于理解的术语解释两者之间的差异。</span><br><span class="line"></span><br><span class="line">SSL旨在保护Web会话;它可以做得更多，但这是最初的意图。</span><br><span class="line"></span><br><span class="line">SSH旨在取代telnet和FTP;它可以做得更多，但这是最初的意图。</span><br><span class="line"></span><br><span class="line">SSL是一种具有多种用途的插件。它前端HTTP为您提供HTTPS。它也可以用于POP3，SMTP，IMAP以及任何其他性能良好的TCP应用程序。对于从头开始创建网络应用程序的大多数程序员而言，只需抓住SSL实现并将其与应用程序捆绑在一起，以便在通过TCP通过网络进行通信时提供加密，这真的很容易。退房：stunnel.org。</span><br><span class="line"></span><br><span class="line">SSH是一种瑞士军刀，设计用于执行许多不同的操作，其中大多数都围绕在主机之间建立安全隧道。 SSH的一些实现依赖于SSL库 - 这是因为SSH和SSL使用许多相同的加密算法（即TripleDES）。</span><br><span class="line"></span><br><span class="line">在HTTPS基于SSL的意义上，SSH不基于SSL。 SSH比SSL做得更多，并且它们不相互通信 - 两者是不同的协议，但在完成类似目标方面有一些重叠。</span><br><span class="line"></span><br><span class="line">SSL本身不会给你什么 - 只是握手和加密。您需要一个应用程序来驱动SSL以完成实际工作。</span><br><span class="line"></span><br><span class="line">SSH本身可以提供许多有用的东西，允许用户执行实际工作。 SSH的两个方面是控制台登录（telnet替换）和安全文件传输（ftp替换），但你也能够隧道（安全）其他应用程序，使用户能够运行HTTP，FTP，POP3，几乎任何东西否则通过SSH隧道。</span><br><span class="line"></span><br><span class="line">没有来自应用程序的有趣流量，SSL什么都不做。如果没有来自应用程序的有趣流量，SSH会在两台主机之间建立一个加密隧道，允许您通过交互式登录shell，文件传输等完成实际工作。</span><br><span class="line"></span><br><span class="line">最后评论：HTTPS不扩展SSL，它使用SSL安全地执行HTTP。 SSH比SSL做得更多，你可以通过它隧道连接！仅仅因为SSL和SSH都可以执行TripleDES并不意味着一个基于另一个。</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/09/09/leetcode494-目标和题解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/09/leetcode494-目标和题解/" itemprop="url">leetcode494 目标和题解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-09T23:21:04+08:00">
                2019-09-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/09/leetcode494-目标和题解/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/09/09/leetcode494-目标和题解/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.3k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1. 题目描述"></a>1. 题目描述</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;给定一个非负整数数组，a1, a2, …, an, 和一个目标数，S。现在你有两个符号 + 和 -。对于数组中的任意一个整数，你都可以从 + 或 -中选择一个符号添加在前面。<br>&nbsp;&nbsp;&nbsp;&nbsp;返回可以使最终数组和为目标数 S 的所有添加符号的方法数。</p>
<p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/target-sum" target="_blank" rel="noopener">https://leetcode-cn.com/problems/target-sum</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">示例1：</span><br><span class="line">输入: nums: [1, 1, 1, 1, 1], S: 3</span><br><span class="line">输出: 5</span><br><span class="line">解释: </span><br><span class="line"></span><br><span class="line">-1+1+1+1+1 = 3</span><br><span class="line">+1-1+1+1+1 = 3</span><br><span class="line">+1+1-1+1+1 = 3</span><br><span class="line">+1+1+1-1+1 = 3</span><br><span class="line">+1+1+1+1-1 = 3</span><br><span class="line"></span><br><span class="line">一共有5种方法让最终目标和为3。</span><br><span class="line"></span><br><span class="line">注意:</span><br><span class="line"></span><br><span class="line">数组的长度不会超过20，并且数组中的值全为正数。</span><br><span class="line">初始的数组的和不会超过1000。</span><br><span class="line">保证返回的最终结果为32位整数。</span><br></pre></td></tr></table></figure>

<h1 id="2-思路"><a href="#2-思路" class="headerlink" title="2. 思路"></a>2. 思路</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;本来打算直接根据题意硬撸代码，本来打算利用如下公式：$$dp[i][j] = dp[i-1][j-nums[i]] + dp[i-1][j+nums[i]]   $$&nbsp;&nbsp;&nbsp;&nbsp;上式中dp[i][j]表示在0-i的范围内，和为j的种类个数。后来发现这样写，需要判断j+nums[i]和j-nums[i]与0的关系，判断比较麻烦。<br>&nbsp;&nbsp;&nbsp;&nbsp;后来在网上找了一些好的<a href="https://leetcode-cn.com/problems/target-sum/solution/0-1bei-bao-dong-tai-gui-hua-jie-da-bai-90de-ti-jia/" target="_blank" rel="noopener">解题报告</a>。<br>&nbsp;&nbsp;&nbsp;&nbsp;我们可以先做如下式子化简来简化问题为0-1背包问题。<br>&nbsp;&nbsp;&nbsp;&nbsp;设置我们取正号的整数部分为集合P，添加负号部分的整数为集合N，Sum(P)表示集合P中所有正数的和，同理Sum(N)为取负号部分的整数之和，Sum(nums)表示nums序列中的所有非负整数之和。则由如下推导：<br>$$Sum(P)-Sum(N) = S$$<br>$$Sum(P)+Sum(N)=Sum(nums)$$<br>$$2 \times Sum(P) = Sum(nums) + S$$<br>$$Sum(P) = (Sum(nums)+S) / 2$$<br>&nbsp;&nbsp;&nbsp;&nbsp;由于nums序列里面都是非负整数，因此如果Sum(nums) + S是奇数那么一定是不存在P使得题意成立的。这里其实就把问题转化为： 在原序列中找到一个子集使得Sum(P) = (Sum(nums)+S) / 2成立，等号右边其实是一个常量。因此就转化为0-1背包的变形问题了，给定一个序列，找出使得和为固定值的子集的个数。每一个整数都只有选和不选两种策略。<br>&amp;nb&nbsp;&nbsp;&nbsp;&nbsp;sp;&nbsp;&nbsp;&nbsp;记target = (Sum(nums)+S)/2, 易得dp方程如下:<br>$$dp[i][j] = dp[i-1][j] + dp[i-1][j-nums[i]] , j&gt;nums[i]$$<br>$$dp[i][j]=dp[i-1][j]     ,j&lt;nums[i]$$<br>使用上述二维DP需要注意nums[0]为0的特殊情况，即在给dp[0][0]赋值时，dp[0][0]其实表示的是：（特殊用例：[0,0,0,0,0,0,1],0）<br>（1）选了第一个元素nums[0]和为0；（注意此时nums[0]=0）<br>（2）不选nums[0]和为0；<br>这两种情况。真的很难考虑这么全面，完全是面向测试用例编程，不过这个用例， 就不给AC啊😢~</p>
<h1 id="3-代码"><a href="#3-代码" class="headerlink" title="3.代码"></a>3.代码</h1><h2 id="Java代码实现1-二维dp数组-："><a href="#Java代码实现1-二维dp数组-：" class="headerlink" title="Java代码实现1(二维dp数组)："></a>Java代码实现1(二维dp数组)：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetSumWays</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> S)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tempSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            tempSum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tempSum &lt; S || (tempSum + S) % <span class="number">2</span> == <span class="number">1</span>) &#123; <span class="comment">//不存在情况</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> target = (S + tempSum) / <span class="number">2</span>; </span><br><span class="line">        <span class="comment">// 经过化简 我们发现nums数组中存在一组序列P,逗让他取正号,使得Sum(P) = target，即是满足条件</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length][target + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(nums[<span class="number">0</span>] &lt;= target) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][nums[<span class="number">0</span>]] = <span class="number">1</span>;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span>(nums[<span class="number">0</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; target+<span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= nums[i]) &#123;</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j] + dp[i-<span class="number">1</span>][j-nums[i]];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[nums.length-<span class="number">1</span>][target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="4-再看一维dp实现"><a href="#4-再看一维dp实现" class="headerlink" title="4. 再看一维dp实现"></a>4. 再看一维dp实现</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;我们知道上面的0-1背包型问题可以使用一维dp数组来实现，而且本题使用一维dp数组，其实更加方便。为什么这么说？且看下面的例子。<br>&nbsp;&nbsp;&nbsp;&nbsp;在nums[0] = 0 的情况，我们知道这是使用二维数组dp的一个特殊情况，很容易忽略。但是在一维dp下，我们只要关注循环变量num，赋初始值的时候，只要给dp[0]赋1，后面无论num[0]是不是0，都可以直接在dp状态方程中完成判断。<br>$$dp[i] = dp[i] + dp[i-num[i]]$$</p>
<p>Java代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetSumWays</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> S)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tempSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            tempSum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tempSum &lt; S || (tempSum+S) % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> target = (tempSum + S) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[target+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">// 只需关注</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = target; i &gt;= num; i--) &#123;</span><br><span class="line">                dp[i] = dp[i] + dp[i-num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="参考链接："><a href="#参考链接：" class="headerlink" title="参考链接："></a>参考链接：</h2><p><a href="https://leetcode-cn.com/problems/target-sum/solution/0-1bei-bao-dong-tai-gui-hua-jie-da-bai-90de-ti-jia/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/target-sum/solution/0-1bei-bao-dong-tai-gui-hua-jie-da-bai-90de-ti-jia/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/06/18/面试复习技术总体思路/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/18/面试复习技术总体思路/" itemprop="url">面试复习技术总体思路</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-18T14:59:32+08:00">
                2019-06-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面试/" itemprop="url" rel="index">
                    <span itemprop="name">面试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/06/18/面试复习技术总体思路/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/06/18/面试复习技术总体思路/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  54 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="（一）回答问题时，从以下方面回答"><a href="#（一）回答问题时，从以下方面回答" class="headerlink" title="（一）回答问题时，从以下方面回答"></a>（一）回答问题时，从以下方面回答</h1><h2 id="1-为什么存在？-解决了什么问题"><a href="#1-为什么存在？-解决了什么问题" class="headerlink" title="1. 为什么存在？(解决了什么问题)"></a>1. 为什么存在？(解决了什么问题)</h2><h2 id="2-基本原理是什么"><a href="#2-基本原理是什么" class="headerlink" title="2. 基本原理是什么"></a>2. 基本原理是什么</h2><h2 id="3-使用场景"><a href="#3-使用场景" class="headerlink" title="3. 使用场景"></a>3. 使用场景</h2><h2 id="4-和其它相关技术相比有什么优势"><a href="#4-和其它相关技术相比有什么优势" class="headerlink" title="4. 和其它相关技术相比有什么优势"></a>4. 和其它相关技术相比有什么优势</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/04/18/leetcode-740-删除与获得点数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/18/leetcode-740-删除与获得点数/" itemprop="url">leetcode 740-删除与获得点数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-18T20:03:49+08:00">
                2019-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/18/leetcode-740-删除与获得点数/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/18/leetcode-740-删除与获得点数/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  969 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1. 题目描述"></a>1. 题目描述</h1><p>给定一个整数数组 nums ，你可以对它进行一些操作。</p>
<p>每次操作中，选择任意一个 nums[i] ，删除它并获得 nums[i] 的点数。之后，你必须删除每个等于 nums[i] - 1 或 nums[i] + 1 的元素。</p>
<p>开始你拥有 0 个点数。返回你能通过这些操作获得的最大点数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1 ：</span><br><span class="line">输入: nums = [3, 4, 2]</span><br><span class="line">输出: 6</span><br><span class="line">解释: </span><br><span class="line">删除 4 来获得 4 个点数，因此 3 也被删除。</span><br><span class="line">之后，删除 2 来获得 2 个点数。总共获得 6 个点数。</span><br><span class="line"></span><br><span class="line">示例 2:</span><br><span class="line">输入: nums = [2, 2, 3, 3, 3, 4]</span><br><span class="line">输出: 9</span><br><span class="line">解释: </span><br><span class="line">删除 3 来获得 3 个点数，接着要删除两个 2 和 4 。</span><br><span class="line">之后，再次删除 3 获得 3 个点数，再次删除 3 获得 3 个点数。</span><br><span class="line">总共获得 9 个点数。</span><br></pre></td></tr></table></figure>

<p>注意:</p>
<ul>
<li>nums的长度最大为20000。</li>
<li>每个整数nums[i]的大小都在[1, 10000]范围内。</li>
</ul>
<h1 id="2-思路"><a href="#2-思路" class="headerlink" title="2. 思路"></a>2. 思路</h1><h3 id="2-1-利用“打家劫舍”问题来完成"><a href="#2-1-利用“打家劫舍”问题来完成" class="headerlink" title="2.1 利用“打家劫舍”问题来完成"></a>2.1 利用“打家劫舍”问题来完成</h3><h4 id="2-1-1-打家劫舍问题描述"><a href="#2-1-1-打家劫舍问题描述" class="headerlink" title="2.1.1 打家劫舍问题描述"></a>2.1.1 打家劫舍问题描述</h4><p>你是一个专业的小偷，计划偷窃沿街的房屋。每间房内都藏有一定的现金，影响你偷窃的唯一制约因素就是相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。</p>
<p>给定一个代表每个房屋存放金额的非负整数数组，计算你在不触动警报装置的情况下，能够偷窃到的最高金额。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">示例 1:</span><br><span class="line">输入: [1,2,3,1]</span><br><span class="line">输出: 4</span><br><span class="line">解释: 偷窃 1 号房屋 (金额 = 1) ，然后偷窃 3 号房屋 (金额 = 3)。</span><br><span class="line">     偷窃到的最高金额 = 1 + 3 = 4 。</span><br><span class="line"></span><br><span class="line">示例 2:</span><br><span class="line">输入: [2,7,9,3,1]</span><br><span class="line">输出: 12</span><br><span class="line">解释: 偷窃 1 号房屋 (金额 = 2), 偷窃 3 号房屋 (金额 = 9)，接着偷窃 5 号房屋 (金额 = 1)。</span><br><span class="line">     偷窃到的最高金额 = 2 + 9 + 1 = 12 。</span><br></pre></td></tr></table></figure>

<h4 id="2-1-2-解法"><a href="#2-1-2-解法" class="headerlink" title="2.1.2 解法"></a>2.1.2 解法</h4><pre><code>用dp[i]来表示到第i家为止，小偷所能偷取到的最大钱财数，我们容易得到状态转移方程如下：
dp[i] = max( dp[i-2]+nums[i] , dp[i-1]), i&gt;=2</code></pre><h4 id="2-1-3-代码"><a href="#2-1-3-代码" class="headerlink" title="2.1.3 代码"></a>2.1.3 代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        length = len(nums)</span><br><span class="line">        <span class="keyword">if</span> length == <span class="number">0</span> :<span class="comment">#边界判断</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        dp = [ <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">0</span> , length)]</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> length &gt;=<span class="number">2</span> :</span><br><span class="line">            dp[<span class="number">1</span>] = max(nums[<span class="number">0</span>],nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">2</span> , length):</span><br><span class="line">            dp[i] = max( dp[i<span class="number">-2</span>]+nums[i] , dp[i<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span>  dp[length<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="2-2-如何转换为“打家劫舍”问题"><a href="#2-2-如何转换为“打家劫舍”问题" class="headerlink" title="2.2 如何转换为“打家劫舍”问题"></a>2.2 如何转换为“打家劫舍”问题</h3><p>&nbsp;&nbsp;现在我们的问题是如何将本题和“打家劫舍”问题联系起来，其实本题中的条件是如果删除一个整数x，则必须将数组中值为x-1和x+1的值也一并删除，因此我们可以产生联想，我们用一个很长的数组来存取从0到当前所给数组的最大值，这样，我们取一个值的时候，规定不能取与其相邻的数（即去不了x-1和x+1），这样就把所给问题的约束条件，转换为“打家劫舍”问题的条件了。<br>&nbsp;&nbsp;初始化的时候，把每一个值所对应的值设置为它自身，这样取当前值的时候，value值就是自身的点数。<br>&nbsp;&nbsp;通过上述两步，我们就可以把问题转换为“打家劫舍”问题。</p>
<h2 id="3-代码"><a href="#3-代码" class="headerlink" title="3. 代码"></a>3. 代码</h2><p>Python实现如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteAndEarn</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums <span class="keyword">or</span> len(nums) == <span class="number">0</span> :</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        dp = [<span class="number">0</span>]*( max(nums) + <span class="number">1</span>)</span><br><span class="line">        <span class="comment">#初始化新数组对应位置的value值为自身的点数</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            dp[num] += num  </span><br><span class="line">        <span class="keyword">return</span> self.Rob(dp)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Rob</span><span class="params">( self , nums)</span>:</span></span><br><span class="line">        nums[<span class="number">1</span>] = max(nums[<span class="number">0</span>],nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">2</span>, len(nums)):</span><br><span class="line">            nums[i] = max( nums[i<span class="number">-1</span>] , nums[i<span class="number">-2</span>]+nums[i])</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/04/18/leetcode-718-最长重复子数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/18/leetcode-718-最长重复子数组/" itemprop="url">leetcode 718-最长重复子数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-18T16:01:47+08:00">
                2019-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/18/leetcode-718-最长重复子数组/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/18/leetcode-718-最长重复子数组/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  272 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h1><p>给两个整数数组 A 和 B ，返回两个数组中公共的、长度最长的子数组的长度。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">示例 1:</span><br><span class="line"></span><br><span class="line">输入:</span><br><span class="line">A: [1,2,3,2,1]</span><br><span class="line">B: [3,2,1,4,7]</span><br><span class="line">输出: 3</span><br><span class="line">解释: </span><br><span class="line">    长度最长的公共子数组是 [3, 2, 1]。</span><br><span class="line">说明：</span><br><span class="line">    1. 1 &lt;= len(A), len(B) &lt;= 1000</span><br><span class="line">    2. 0 &lt;= A[i], B[i] &lt; 100</span><br></pre></td></tr></table></figure>

<h1 id="2-解题思路"><a href="#2-解题思路" class="headerlink" title="2. 解题思路"></a>2. 解题思路</h1><p>&nbsp;&nbsp; 使用dp[i][j]来表示以A[i]为尾元素和以B[j]为尾元素的重复子数组的长度。<br>&nbsp;&nbsp;当A[i]==B[j]时，dp[i][j]=dp[i-1][j-1]+1;<br>&nbsp;&nbsp;当A[i]!=B[j]时，dp[i][j]=0。</p>
<h1 id="3-代码如下："><a href="#3-代码如下：" class="headerlink" title="3.代码如下："></a>3.代码如下：</h1><p>Python实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLength</span><span class="params">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class="line">        m , n = len(A),len(B)</span><br><span class="line">        dp = [ [<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> range(n+<span class="number">1</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> range(m+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            dp[<span class="number">0</span>][j] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,m+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> A[i<span class="number">-1</span>] == B[j<span class="number">-1</span>]:</span><br><span class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] +<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(dp)):</span><br><span class="line">            res = max( res , max(dp[i]))</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/04/02/leetcode-486-预测赢家/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/leetcode-486-预测赢家/" itemprop="url">leetcode 486-预测赢家</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T20:35:07+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/02/leetcode-486-预测赢家/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/02/leetcode-486-预测赢家/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  674 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1. 题目描述"></a>1. 题目描述</h2><p>给定一个表示分数的非负整数数组。 玩家1从数组任意一端拿取一个分数，随后玩家2继续从剩余数组任意一端拿取分数，然后玩家1拿，……。每次一个玩家只能拿取一个分数，分数被拿取之后不再可取。直到没有剩余分数可取时游戏结束。最终获得分数总和最多的玩家获胜。</p>
<p>给定一个表示分数的数组，预测玩家1是否会成为赢家。你可以假设每个玩家的玩法都会使他的分数最大化。</p>
<p>示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1：</span><br><span class="line">输入: [1, 5, 2]</span><br><span class="line">输出: False</span><br><span class="line">解释: 一开始，玩家1可以从1和2中进行选择。</span><br><span class="line">如果他选择2（或者1），那么玩家2可以从1（或者2）和5中进行选择。如果玩家2选择了5，那么玩家1则只剩下1（或者2）可选。</span><br><span class="line">所以，玩家1的最终分数为 1 + 2 = 3，而玩家2为 5。</span><br><span class="line">因此，玩家1永远不会成为赢家，返回 False。</span><br><span class="line"></span><br><span class="line">示例 2:</span><br><span class="line"></span><br><span class="line">输入: [1, 5, 233, 7]</span><br><span class="line">输出: True</span><br><span class="line">解释: 玩家1一开始选择1。然后玩家2必须从5和7中进行选择。无论玩家2选择了哪个，玩家1都可以选择233。</span><br><span class="line">最终，玩家1（234分）比玩家2（12分）获得更多的分数，所以返回 True，表示玩家1可以成为赢家。</span><br></pre></td></tr></table></figure>

<p>注意<br></p>
<p>1) 1 &lt;= 给定的数组长度 &lt;= 20.<br>2) 数组里所有分数都为非负数且不会大于10000000。<br>3) 如果最终两个玩家的分数相等，那么玩家1仍为赢家。</p>
<h2 id="2-解析"><a href="#2-解析" class="headerlink" title="2.解析"></a>2.解析</h2><p>  参考花花酱视频：<a href="https://www.bilibili.com/video/av31317000?from=search&amp;seid=2867472786189339769" target="_blank" rel="noopener">https://www.bilibili.com/video/av31317000?from=search&amp;seid=2867472786189339769</a></p>
<p>  采用min-max策略，使用记忆化递归。<br><br>  使用mem[k]数组记录nums[l]到nums[r]的最大差值为多少。其中$k=l\times num.length+r$.<br>  <br>每一次我们都记录下mem[k]，在递归的时候，查询记忆数组，如果有直接返回，这样可以把时间复杂度降低为$n^{2}$。</p>
<h2 id="3-Java-实现"><a href="#3-Java-实现" class="headerlink" title="3.Java 实现"></a>3.Java 实现</h2><p>  具体代码如下：<br>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">//记忆化递归</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        mem = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length*nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i&lt; mem.length;i++)&#123;</span><br><span class="line">            mem[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getScore(nums , <span class="number">0</span>, nums.length-<span class="number">1</span>)&gt;= <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> [] mem;<span class="comment">//记忆化数组</span></span><br><span class="line">    <span class="comment">//min-max原则</span></span><br><span class="line">    <span class="comment">//在l到r范围内，我能够取得的最大分数差是多少</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getScore</span><span class="params">(<span class="keyword">int</span> [] nums , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( l==r) <span class="keyword">return</span> nums[l];</span><br><span class="line">        <span class="keyword">int</span> k = l*nums.length + r;</span><br><span class="line">        <span class="keyword">if</span>(mem[k] &gt; <span class="number">0</span> ) <span class="keyword">return</span> mem[k];</span><br><span class="line">        mem[k] = Math.max(nums[l] - getScore(nums , l+<span class="number">1</span>,r) ,</span><br><span class="line">                       nums[r] - getScore(nums,l,r-<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> mem[k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/03/14/leetcode-402-移掉k位数字/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/leetcode-402-移掉k位数字/" itemprop="url">leetcode 402-移掉k位数字</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T20:39:51+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/14/leetcode-402-移掉k位数字/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/14/leetcode-402-移掉k位数字/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  396 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h2><p>给定一个以字符串表示的非负整数 num，移除这个数中的 k 位数字，使得剩下的数字最小。<br><br><strong>注意:</strong><br></p>
<li> num 的长度小于 10002 且 ≥ k。
</li><li> num 不会包含任何前导零。
<br>
示例如下：<br>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1：</span><br><span class="line">输入: num = &quot;1432219&quot;, k = 3</span><br><span class="line">输出: &quot;1219&quot;</span><br><span class="line">解释: 移除掉三个数字 4, 3, 和 2 形成一个新的最小的数字 1219。</span><br><span class="line"></span><br><span class="line">示例2：</span><br><span class="line">输入: num = &quot;10200&quot;, k = 1</span><br><span class="line">输出: &quot;200&quot;</span><br><span class="line">解释: 移掉首位的 1 剩下的数字为 200. 注意输出不能有任何前导零。</span><br><span class="line"></span><br><span class="line">示例3：</span><br><span class="line">输入: num = &quot;10&quot;, k = 2</span><br><span class="line">输出: &quot;0&quot;</span><br><span class="line">解释: 从原数字移除所有的数字，剩余为空就是0。</span><br></pre></td></tr></table></figure>

<h2 id="2-解析"><a href="#2-解析" class="headerlink" title="2.解析"></a>2.解析</h2><p>&nbsp;&nbsp;参考博文：<a href="https://blog.csdn.net/zxm1306192988/article/details/80725404" target="_blank" rel="noopener">https://blog.csdn.net/zxm1306192988/article/details/80725404</a><br><br><br>大体思想是贪心法：使用一个栈，循环遍历数组，如果当前值比栈顶的字符小，栈顶元素出栈；否则让当前字符进栈。最后判断所得字符前面是不是有0,找到非0开头的第一个数的索引，找到它到len(num)-k的所有字符序列<br></p>
<p>Python3实现代码：<br></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeKdigits</span><span class="params">(self, num: str, k: int)</span> -&gt; str:</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> k &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> num</span><br><span class="line">        <span class="keyword">if</span> len(num) == <span class="number">0</span> <span class="keyword">or</span> k &gt;= len(num):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line">        digit = len(num)-k</span><br><span class="line">        stack = [<span class="string">''</span>]*len(num)</span><br><span class="line">        top = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(num)):</span><br><span class="line">            c = num[i]</span><br><span class="line">            <span class="keyword">while</span> top&gt;<span class="number">0</span> <span class="keyword">and</span> stack[top<span class="number">-1</span>] &gt; c <span class="keyword">and</span> k &gt; <span class="number">0</span>:</span><br><span class="line">                top -=<span class="number">1</span></span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">            stack[top] = c</span><br><span class="line">            top+=<span class="number">1</span></span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> idx&lt;digit <span class="keyword">and</span> stack[idx]==<span class="string">'0'</span> :</span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> idx==digit:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res =<span class="string">''</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(idx,digit):</span><br><span class="line">                res+=stack[i]</span><br><span class="line">            <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

</li>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/03/07/leetcode-354-俄罗斯套娃信封问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro2.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/07/leetcode-354-俄罗斯套娃信封问题/" itemprop="url">leetcode 354-俄罗斯套娃信封问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-07T21:15:59+08:00">
                2019-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/07/leetcode-354-俄罗斯套娃信封问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/07/leetcode-354-俄罗斯套娃信封问题/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h2><p>给定一些标记了宽度和高度的信封，宽度和高度以整数对形式 (w, h) 出现。当另一个信封的宽度和高度都比这个信封大的时候，这个信封就可以放进另一个信封里，如同俄罗斯套娃一样。</p>
<p>请计算最多能有多少个信封能组成一组“俄罗斯套娃”信封（即可以把一个信封放到另一个信封里面）。</p>
<p><strong>说明:</strong><br>不允许旋转信封。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入: envelopes = [[5,4],[6,4],[6,7],[2,3]]</span><br><span class="line">输出: 3 </span><br><span class="line">解释: 最多信封的个数为 3, 组合为: [2,3] =&gt; [5,4] =&gt; [6,7]。</span><br></pre></td></tr></table></figure>

<h2 id="2-思路分析"><a href="#2-思路分析" class="headerlink" title="2.思路分析"></a>2.思路分析</h2><p>本题的难点在于要看穿问题的本质是求最长递增子序列。<br><br>解法：把所给序列list安装width递增排序，按照height递减排序。然后其实就是找height对应的递增子序列，不过这里只要求最长递增子序列的长度就好。<br><br><br>这里介绍一下为什么要按height递减排序，这是为了使求解height对应序列的LIS(最长递增子序列)更加方便。<br><br><br>举个例子：<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">假设有数组[2,100],[3,200],[4,300],[5,250],[5,400],[5,500],[6,360],[6,370],[7,380]这里没有按照height递减排</span><br><span class="line">在求解时，height对应为[100,200,300,250,400,500,360,370,380]</span><br><span class="line">    有一种简单的求解LIS的方法，是直接将原数组的值遍历，按照大小将其插入对应的位置：</span><br><span class="line">    若相同的width，按照height递减排序则对应的height数组应为[100,200,300,500,400,250,370,360,380]</span><br><span class="line">    插入方法：</span><br><span class="line">       (1) 找到将某个值插入到list的位置，记为insertindex</span><br><span class="line">       (2) 若该位置为最末位，则直接插入</span><br><span class="line">       (3) 若该位置不是最末位，则将该值插入insertindex位置,即替换原来该位置上的值</span><br><span class="line">    则插入顺序如下：</span><br><span class="line"> 1.   [100]</span><br><span class="line"> 2.   [100,200]</span><br><span class="line"> 3.   [100,200,300]</span><br><span class="line"> 4.   [100,200,300,500]</span><br><span class="line"> 5.   [100,200,300,400]</span><br><span class="line"> 6.   [100,200,250,400]</span><br><span class="line"> 7.   [100,200,250,370]</span><br><span class="line"> 8.   [100,200,250,360]</span><br><span class="line"> 9.   [100,200,250,360,380]</span><br><span class="line">    最终的长度len(list)就是最长递增子序列的长度</span><br><span class="line">    若没有按照height逆序，height=[100,200,300,250,400,500,360,370,380]则插入顺序为</span><br><span class="line">(1) [100]</span><br><span class="line">(2) [100,200]</span><br><span class="line">(3) [100,200,300]</span><br><span class="line">(4) [100,200,250]</span><br><span class="line">(5) [100,200,250,400]</span><br><span class="line">(6) [100,200,250,400,500]</span><br><span class="line">(7) [100,200,250,360,500]</span><br><span class="line">(8) [100,200,250,360,370]</span><br><span class="line">(9) [100,200,250,360,370,380]</span><br><span class="line">显然该答案是错的，这里由于没有先遍历相同width的最大height值，因此替换insertindex的值会影响插入位置为最末位的情况。</span><br></pre></td></tr></table></figure>

<p>本题，我的代码超时,由于求解时需要遍历i-1之前的所有值，复杂度较高。（有时超时，有时ac，11000多ms）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxEnvelopes</span><span class="params">(self, envelopes)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type envelopes: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> len(envelopes) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        res = []<span class="comment">#res用来存当前需要和envelopes数组里面 比较的元素</span></span><br><span class="line">        <span class="comment"># sorted(envelopes,key=lambda x:x[0])</span></span><br><span class="line">        envelopes.sort(key=<span class="keyword">lambda</span> x:(x[<span class="number">0</span>],-x[<span class="number">1</span>]))</span><br><span class="line">        res.append(envelopes[<span class="number">0</span>])</span><br><span class="line">        dp= [<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(envelopes))]</span><br><span class="line">        <span class="comment"># print(envelopes)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(envelopes)):</span><br><span class="line">            maxtemp = []</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">if</span> envelopes[i][<span class="number">0</span>]&gt;envelopes[j][<span class="number">0</span>] <span class="keyword">and</span> envelopes[i][<span class="number">1</span>]&gt;envelopes[j][<span class="number">1</span>]:</span><br><span class="line">                    <span class="comment"># dp[i] = dp[j]+1</span></span><br><span class="line">                    maxtemp.append(dp[j]+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> len(maxtemp)!=<span class="number">0</span>:</span><br><span class="line">                dp[i]=max(maxtemp)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># print(dp)</span></span><br><span class="line">        <span class="keyword">return</span> max(dp)</span><br></pre></td></tr></table></figure>

<p>参考的大神的优秀代码：(92ms)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"><span class="keyword">import</span> bisect</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">    值得一提的是，这里我学到了新的bisect包</span></span><br><span class="line"><span class="string">    参考网址：https://blog.csdn.net/nightcharm/article/details/79325731</span></span><br><span class="line"><span class="string">    bisect​ ——————这是一个python的针对**有序数组**的插入和排序操作的一个模块</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span><span class="params">(self, nums:List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> n:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        lis = []</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            insert_pos = bisect.bisect_left(lis,num)</span><br><span class="line">            <span class="comment">#找到插入位置</span></span><br><span class="line">            <span class="comment">#bisect_left方法：其目的在于查找该数值将会插入的位置并返回，而不会插入。如果x存在在a中则返回x左边的位置</span></span><br><span class="line">            <span class="keyword">if</span> insert_pos == len(lis):</span><br><span class="line">                lis.append(num)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                lis[insert_pos] = num</span><br><span class="line">        <span class="keyword">return</span> len(lis)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxEnvelopes</span><span class="params">(self, envs:List[List[int]])</span>:</span></span><br><span class="line">        n = len(envs)</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        envs.sort(key=<span class="keyword">lambda</span> t:(t[<span class="number">0</span>],-t[<span class="number">1</span>]))</span><br><span class="line">         <span class="comment">#这里的技巧是 采用heights逆序 可以保证heights的最长递增子序列就是最终结果</span></span><br><span class="line">        heights = [env[<span class="number">1</span>] <span class="keyword">for</span> env <span class="keyword">in</span> envs]</span><br><span class="line">        <span class="keyword">return</span> self.lengthOfLIS(heights)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar_zoro2.png" alt="魏小威">
            
              <p class="site-author-name" itemprop="name">魏小威</p>
              <p class="site-description motion-element" itemprop="description">欢迎来到魏小威的新世界！</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">魏小威</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>






        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'QHkja7fxLTPQXla2mSubcEXX-gzGzoHsz',
        appKey: 'oUeTLS75sgNKw5WUdti67I0C',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
