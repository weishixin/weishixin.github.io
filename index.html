<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/web-site-logo.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="欢迎来到魏小威的新世界！">
<meta name="keywords" content="努力给爱的人最好的明天！">
<meta property="og:type" content="website">
<meta property="og:title" content="魏小威的个人博客">
<meta property="og:url" content="https://weishixin.github.io/index.html">
<meta property="og:site_name" content="魏小威的个人博客">
<meta property="og:description" content="欢迎来到魏小威的新世界！">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="魏小威的个人博客">
<meta name="twitter:description" content="欢迎来到魏小威的新世界！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://weishixin.github.io/">





  <title>魏小威的个人博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">魏小威的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/06/18/面试复习技术总体思路/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/18/面试复习技术总体思路/" itemprop="url">面试复习技术总体思路</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-18T14:59:32+08:00">
                2019-06-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/面试/" itemprop="url" rel="index">
                    <span itemprop="name">面试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/06/18/面试复习技术总体思路/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/06/18/面试复习技术总体思路/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="（一）回答问题时，从以下方面回答"><a href="#（一）回答问题时，从以下方面回答" class="headerlink" title="（一）回答问题时，从以下方面回答"></a>（一）回答问题时，从以下方面回答</h1><h2 id="1-为什么存在？-解决了什么问题"><a href="#1-为什么存在？-解决了什么问题" class="headerlink" title="1. 为什么存在？(解决了什么问题)"></a>1. 为什么存在？(解决了什么问题)</h2><h2 id="2-基本原理是什么"><a href="#2-基本原理是什么" class="headerlink" title="2. 基本原理是什么"></a>2. 基本原理是什么</h2><h2 id="3-使用场景"><a href="#3-使用场景" class="headerlink" title="3. 使用场景"></a>3. 使用场景</h2><h2 id="4-和其它相关技术相比有什么优势"><a href="#4-和其它相关技术相比有什么优势" class="headerlink" title="4. 和其它相关技术相比有什么优势"></a>4. 和其它相关技术相比有什么优势</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/04/18/leetcode-740-删除与获得点数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/18/leetcode-740-删除与获得点数/" itemprop="url">leetcode 740-删除与获得点数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-18T20:03:49+08:00">
                2019-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/18/leetcode-740-删除与获得点数/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/18/leetcode-740-删除与获得点数/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1. 题目描述"></a>1. 题目描述</h1><p>给定一个整数数组 nums ，你可以对它进行一些操作。</p>
<p>每次操作中，选择任意一个 nums[i] ，删除它并获得 nums[i] 的点数。之后，你必须删除每个等于 nums[i] - 1 或 nums[i] + 1 的元素。</p>
<p>开始你拥有 0 个点数。返回你能通过这些操作获得的最大点数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1 ：</span><br><span class="line">输入: nums = [3, 4, 2]</span><br><span class="line">输出: 6</span><br><span class="line">解释: </span><br><span class="line">删除 4 来获得 4 个点数，因此 3 也被删除。</span><br><span class="line">之后，删除 2 来获得 2 个点数。总共获得 6 个点数。</span><br><span class="line"></span><br><span class="line">示例 2:</span><br><span class="line">输入: nums = [2, 2, 3, 3, 3, 4]</span><br><span class="line">输出: 9</span><br><span class="line">解释: </span><br><span class="line">删除 3 来获得 3 个点数，接着要删除两个 2 和 4 。</span><br><span class="line">之后，再次删除 3 获得 3 个点数，再次删除 3 获得 3 个点数。</span><br><span class="line">总共获得 9 个点数。</span><br></pre></td></tr></table></figure>

<p>注意:</p>
<ul>
<li>nums的长度最大为20000。</li>
<li>每个整数nums[i]的大小都在[1, 10000]范围内。</li>
</ul>
<h1 id="2-思路"><a href="#2-思路" class="headerlink" title="2. 思路"></a>2. 思路</h1><h3 id="2-1-利用“打家劫舍”问题来完成"><a href="#2-1-利用“打家劫舍”问题来完成" class="headerlink" title="2.1 利用“打家劫舍”问题来完成"></a>2.1 利用“打家劫舍”问题来完成</h3><h4 id="2-1-1-打家劫舍问题描述"><a href="#2-1-1-打家劫舍问题描述" class="headerlink" title="2.1.1 打家劫舍问题描述"></a>2.1.1 打家劫舍问题描述</h4><p>你是一个专业的小偷，计划偷窃沿街的房屋。每间房内都藏有一定的现金，影响你偷窃的唯一制约因素就是相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。</p>
<p>给定一个代表每个房屋存放金额的非负整数数组，计算你在不触动警报装置的情况下，能够偷窃到的最高金额。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">示例 1:</span><br><span class="line">输入: [1,2,3,1]</span><br><span class="line">输出: 4</span><br><span class="line">解释: 偷窃 1 号房屋 (金额 = 1) ，然后偷窃 3 号房屋 (金额 = 3)。</span><br><span class="line">     偷窃到的最高金额 = 1 + 3 = 4 。</span><br><span class="line"></span><br><span class="line">示例 2:</span><br><span class="line">输入: [2,7,9,3,1]</span><br><span class="line">输出: 12</span><br><span class="line">解释: 偷窃 1 号房屋 (金额 = 2), 偷窃 3 号房屋 (金额 = 9)，接着偷窃 5 号房屋 (金额 = 1)。</span><br><span class="line">     偷窃到的最高金额 = 2 + 9 + 1 = 12 。</span><br></pre></td></tr></table></figure>

<h4 id="2-1-2-解法"><a href="#2-1-2-解法" class="headerlink" title="2.1.2 解法"></a>2.1.2 解法</h4><pre><code>用dp[i]来表示到第i家为止，小偷所能偷取到的最大钱财数，我们容易得到状态转移方程如下：
dp[i] = max( dp[i-2]+nums[i] , dp[i-1]), i&gt;=2</code></pre><h4 id="2-1-3-代码"><a href="#2-1-3-代码" class="headerlink" title="2.1.3 代码"></a>2.1.3 代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        length = len(nums)</span><br><span class="line">        <span class="keyword">if</span> length == <span class="number">0</span> :<span class="comment">#边界判断</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        dp = [ <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">0</span> , length)]</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> length &gt;=<span class="number">2</span> :</span><br><span class="line">            dp[<span class="number">1</span>] = max(nums[<span class="number">0</span>],nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">2</span> , length):</span><br><span class="line">            dp[i] = max( dp[i<span class="number">-2</span>]+nums[i] , dp[i<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span>  dp[length<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="2-2-如何转换为“打家劫舍”问题"><a href="#2-2-如何转换为“打家劫舍”问题" class="headerlink" title="2.2 如何转换为“打家劫舍”问题"></a>2.2 如何转换为“打家劫舍”问题</h3><p>&nbsp;&nbsp;现在我们的问题是如何将本题和“打家劫舍”问题联系起来，其实本题中的条件是如果删除一个整数x，则必须将数组中值为x-1和x+1的值也一并删除，因此我们可以产生联想，我们用一个很长的数组来存取从0到当前所给数组的最大值，这样，我们取一个值的时候，规定不能取与其相邻的数（即去不了x-1和x+1），这样就把所给问题的约束条件，转换为“打家劫舍”问题的条件了。<br>&nbsp;&nbsp;初始化的时候，把每一个值所对应的值设置为它自身，这样取当前值的时候，value值就是自身的点数。<br>&nbsp;&nbsp;通过上述两步，我们就可以把问题转换为“打家劫舍”问题。</p>
<h2 id="3-代码"><a href="#3-代码" class="headerlink" title="3. 代码"></a>3. 代码</h2><p>Python实现如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteAndEarn</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums <span class="keyword">or</span> len(nums) == <span class="number">0</span> :</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        dp = [<span class="number">0</span>]*( max(nums) + <span class="number">1</span>)</span><br><span class="line">        <span class="comment">#初始化新数组对应位置的value值为自身的点数</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            dp[num] += num  </span><br><span class="line">        <span class="keyword">return</span> self.Rob(dp)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Rob</span><span class="params">( self , nums)</span>:</span></span><br><span class="line">        nums[<span class="number">1</span>] = max(nums[<span class="number">0</span>],nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">2</span>, len(nums)):</span><br><span class="line">            nums[i] = max( nums[i<span class="number">-1</span>] , nums[i<span class="number">-2</span>]+nums[i])</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/04/18/leetcode-718-最长重复子数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/18/leetcode-718-最长重复子数组/" itemprop="url">leetcode 718-最长重复子数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-18T16:01:47+08:00">
                2019-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/18/leetcode-718-最长重复子数组/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/18/leetcode-718-最长重复子数组/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h1><p>给两个整数数组 A 和 B ，返回两个数组中公共的、长度最长的子数组的长度。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">示例 1:</span><br><span class="line"></span><br><span class="line">输入:</span><br><span class="line">A: [1,2,3,2,1]</span><br><span class="line">B: [3,2,1,4,7]</span><br><span class="line">输出: 3</span><br><span class="line">解释: </span><br><span class="line">    长度最长的公共子数组是 [3, 2, 1]。</span><br><span class="line">说明：</span><br><span class="line">    1. 1 &lt;= len(A), len(B) &lt;= 1000</span><br><span class="line">    2. 0 &lt;= A[i], B[i] &lt; 100</span><br></pre></td></tr></table></figure>

<h1 id="2-解题思路"><a href="#2-解题思路" class="headerlink" title="2. 解题思路"></a>2. 解题思路</h1><p>&nbsp;&nbsp; 使用dp[i][j]来表示以A[i]为尾元素和以B[j]为尾元素的重复子数组的长度。<br>&nbsp;&nbsp;当A[i]==B[j]时，dp[i][j]=dp[i-1][j-1]+1;<br>&nbsp;&nbsp;当A[i]!=B[j]时，dp[i][j]=0。</p>
<h1 id="3-代码如下："><a href="#3-代码如下：" class="headerlink" title="3.代码如下："></a>3.代码如下：</h1><p>Python实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLength</span><span class="params">(self, A: List[int], B: List[int])</span> -&gt; int:</span></span><br><span class="line">        m , n = len(A),len(B)</span><br><span class="line">        dp = [ [<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> range(n+<span class="number">1</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> range(m+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            dp[<span class="number">0</span>][j] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,m+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> A[i<span class="number">-1</span>] == B[j<span class="number">-1</span>]:</span><br><span class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] +<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] = <span class="number">0</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(dp)):</span><br><span class="line">            res = max( res , max(dp[i]))</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/04/02/leetcode-486-预测赢家/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/02/leetcode-486-预测赢家/" itemprop="url">leetcode 486-预测赢家</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-02T20:35:07+08:00">
                2019-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/02/leetcode-486-预测赢家/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/04/02/leetcode-486-预测赢家/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1. 题目描述"></a>1. 题目描述</h2><p>给定一个表示分数的非负整数数组。 玩家1从数组任意一端拿取一个分数，随后玩家2继续从剩余数组任意一端拿取分数，然后玩家1拿，……。每次一个玩家只能拿取一个分数，分数被拿取之后不再可取。直到没有剩余分数可取时游戏结束。最终获得分数总和最多的玩家获胜。</p>
<p>给定一个表示分数的数组，预测玩家1是否会成为赢家。你可以假设每个玩家的玩法都会使他的分数最大化。</p>
<p>示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1：</span><br><span class="line">输入: [1, 5, 2]</span><br><span class="line">输出: False</span><br><span class="line">解释: 一开始，玩家1可以从1和2中进行选择。</span><br><span class="line">如果他选择2（或者1），那么玩家2可以从1（或者2）和5中进行选择。如果玩家2选择了5，那么玩家1则只剩下1（或者2）可选。</span><br><span class="line">所以，玩家1的最终分数为 1 + 2 = 3，而玩家2为 5。</span><br><span class="line">因此，玩家1永远不会成为赢家，返回 False。</span><br><span class="line"></span><br><span class="line">示例 2:</span><br><span class="line"></span><br><span class="line">输入: [1, 5, 233, 7]</span><br><span class="line">输出: True</span><br><span class="line">解释: 玩家1一开始选择1。然后玩家2必须从5和7中进行选择。无论玩家2选择了哪个，玩家1都可以选择233。</span><br><span class="line">最终，玩家1（234分）比玩家2（12分）获得更多的分数，所以返回 True，表示玩家1可以成为赢家。</span><br></pre></td></tr></table></figure>

<p>注意<br></p>
<p>1) 1 &lt;= 给定的数组长度 &lt;= 20.<br>2) 数组里所有分数都为非负数且不会大于10000000。<br>3) 如果最终两个玩家的分数相等，那么玩家1仍为赢家。</p>
<h2 id="2-解析"><a href="#2-解析" class="headerlink" title="2.解析"></a>2.解析</h2><p>  参考花花酱视频：<a href="https://www.bilibili.com/video/av31317000?from=search&amp;seid=2867472786189339769" target="_blank" rel="noopener">https://www.bilibili.com/video/av31317000?from=search&amp;seid=2867472786189339769</a></p>
<p>  采用min-max策略，使用记忆化递归。<br><br>  使用mem[k]数组记录nums[l]到nums[r]的最大差值为多少。其中$k=l\times num.length+r$.<br>  <br>每一次我们都记录下mem[k]，在递归的时候，查询记忆数组，如果有直接返回，这样可以把时间复杂度降低为$n^{2}$。</p>
<h2 id="3-Java-实现"><a href="#3-Java-实现" class="headerlink" title="3.Java 实现"></a>3.Java 实现</h2><p>  具体代码如下：<br>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">//记忆化递归</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">PredictTheWinner</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        mem = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length*nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i&lt; mem.length;i++)&#123;</span><br><span class="line">            mem[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getScore(nums , <span class="number">0</span>, nums.length-<span class="number">1</span>)&gt;= <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> [] mem;<span class="comment">//记忆化数组</span></span><br><span class="line">    <span class="comment">//min-max原则</span></span><br><span class="line">    <span class="comment">//在l到r范围内，我能够取得的最大分数差是多少</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getScore</span><span class="params">(<span class="keyword">int</span> [] nums , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( l==r) <span class="keyword">return</span> nums[l];</span><br><span class="line">        <span class="keyword">int</span> k = l*nums.length + r;</span><br><span class="line">        <span class="keyword">if</span>(mem[k] &gt; <span class="number">0</span> ) <span class="keyword">return</span> mem[k];</span><br><span class="line">        mem[k] = Math.max(nums[l] - getScore(nums , l+<span class="number">1</span>,r) ,</span><br><span class="line">                       nums[r] - getScore(nums,l,r-<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> mem[k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/03/14/leetcode-402-移掉k位数字/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/14/leetcode-402-移掉k位数字/" itemprop="url">leetcode 402-移掉k位数字</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-14T20:39:51+08:00">
                2019-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/14/leetcode-402-移掉k位数字/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/14/leetcode-402-移掉k位数字/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h2><p>给定一个以字符串表示的非负整数 num，移除这个数中的 k 位数字，使得剩下的数字最小。<br><br><strong>注意:</strong><br></p>
<li> num 的长度小于 10002 且 ≥ k。
</li><li> num 不会包含任何前导零。
<br>
示例如下：<br>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">示例1：</span><br><span class="line">输入: num = &quot;1432219&quot;, k = 3</span><br><span class="line">输出: &quot;1219&quot;</span><br><span class="line">解释: 移除掉三个数字 4, 3, 和 2 形成一个新的最小的数字 1219。</span><br><span class="line"></span><br><span class="line">示例2：</span><br><span class="line">输入: num = &quot;10200&quot;, k = 1</span><br><span class="line">输出: &quot;200&quot;</span><br><span class="line">解释: 移掉首位的 1 剩下的数字为 200. 注意输出不能有任何前导零。</span><br><span class="line"></span><br><span class="line">示例3：</span><br><span class="line">输入: num = &quot;10&quot;, k = 2</span><br><span class="line">输出: &quot;0&quot;</span><br><span class="line">解释: 从原数字移除所有的数字，剩余为空就是0。</span><br></pre></td></tr></table></figure>

<h2 id="2-解析"><a href="#2-解析" class="headerlink" title="2.解析"></a>2.解析</h2><p>&nbsp;&nbsp;参考博文：<a href="https://blog.csdn.net/zxm1306192988/article/details/80725404" target="_blank" rel="noopener">https://blog.csdn.net/zxm1306192988/article/details/80725404</a><br><br><br>大体思想是贪心法：使用一个栈，循环遍历数组，如果当前值比栈顶的字符小，栈顶元素出栈；否则让当前字符进栈。最后判断所得字符前面是不是有0,找到非0开头的第一个数的索引，找到它到len(num)-k的所有字符序列<br></p>
<p>Python3实现代码：<br></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeKdigits</span><span class="params">(self, num: str, k: int)</span> -&gt; str:</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> k &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> num</span><br><span class="line">        <span class="keyword">if</span> len(num) == <span class="number">0</span> <span class="keyword">or</span> k &gt;= len(num):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line">        digit = len(num)-k</span><br><span class="line">        stack = [<span class="string">''</span>]*len(num)</span><br><span class="line">        top = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(num)):</span><br><span class="line">            c = num[i]</span><br><span class="line">            <span class="keyword">while</span> top&gt;<span class="number">0</span> <span class="keyword">and</span> stack[top<span class="number">-1</span>] &gt; c <span class="keyword">and</span> k &gt; <span class="number">0</span>:</span><br><span class="line">                top -=<span class="number">1</span></span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">            stack[top] = c</span><br><span class="line">            top+=<span class="number">1</span></span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> idx&lt;digit <span class="keyword">and</span> stack[idx]==<span class="string">'0'</span> :</span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> idx==digit:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res =<span class="string">''</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(idx,digit):</span><br><span class="line">                res+=stack[i]</span><br><span class="line">            <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

</li>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/03/07/leetcode-354-俄罗斯套娃信封问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/07/leetcode-354-俄罗斯套娃信封问题/" itemprop="url">leetcode 354-俄罗斯套娃信封问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-07T21:15:59+08:00">
                2019-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/07/leetcode-354-俄罗斯套娃信封问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/07/leetcode-354-俄罗斯套娃信封问题/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h2><p>给定一些标记了宽度和高度的信封，宽度和高度以整数对形式 (w, h) 出现。当另一个信封的宽度和高度都比这个信封大的时候，这个信封就可以放进另一个信封里，如同俄罗斯套娃一样。</p>
<p>请计算最多能有多少个信封能组成一组“俄罗斯套娃”信封（即可以把一个信封放到另一个信封里面）。</p>
<p><strong>说明:</strong><br>不允许旋转信封。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入: envelopes = [[5,4],[6,4],[6,7],[2,3]]</span><br><span class="line">输出: 3 </span><br><span class="line">解释: 最多信封的个数为 3, 组合为: [2,3] =&gt; [5,4] =&gt; [6,7]。</span><br></pre></td></tr></table></figure>

<h2 id="2-思路分析"><a href="#2-思路分析" class="headerlink" title="2.思路分析"></a>2.思路分析</h2><p>本题的难点在于要看穿问题的本质是求最长递增子序列。<br><br>解法：把所给序列list安装width递增排序，按照height递减排序。然后其实就是找height对应的递增子序列，不过这里只要求最长递增子序列的长度就好。<br><br><br>这里介绍一下为什么要按height递减排序，这是为了使求解height对应序列的LIS(最长递增子序列)更加方便。<br><br><br>举个例子：<br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">假设有数组[2,100],[3,200],[4,300],[5,250],[5,400],[5,500],[6,360],[6,370],[7,380]这里没有按照height递减排</span><br><span class="line">在求解时，height对应为[100,200,300,250,400,500,360,370,380]</span><br><span class="line">    有一种简单的求解LIS的方法，是直接将原数组的值遍历，按照大小将其插入对应的位置：</span><br><span class="line">    若相同的width，按照height递减排序则对应的height数组应为[100,200,300,500,400,250,370,360,380]</span><br><span class="line">    插入方法：</span><br><span class="line">       (1) 找到将某个值插入到list的位置，记为insertindex</span><br><span class="line">       (2) 若该位置为最末位，则直接插入</span><br><span class="line">       (3) 若该位置不是最末位，则将该值插入insertindex位置,即替换原来该位置上的值</span><br><span class="line">    则插入顺序如下：</span><br><span class="line"> 1.   [100]</span><br><span class="line"> 2.   [100,200]</span><br><span class="line"> 3.   [100,200,300]</span><br><span class="line"> 4.   [100,200,300,500]</span><br><span class="line"> 5.   [100,200,300,400]</span><br><span class="line"> 6.   [100,200,250,400]</span><br><span class="line"> 7.   [100,200,250,370]</span><br><span class="line"> 8.   [100,200,250,360]</span><br><span class="line"> 9.   [100,200,250,360,380]</span><br><span class="line">    最终的长度len(list)就是最长递增子序列的长度</span><br><span class="line">    若没有按照height逆序，height=[100,200,300,250,400,500,360,370,380]则插入顺序为</span><br><span class="line">(1) [100]</span><br><span class="line">(2) [100,200]</span><br><span class="line">(3) [100,200,300]</span><br><span class="line">(4) [100,200,250]</span><br><span class="line">(5) [100,200,250,400]</span><br><span class="line">(6) [100,200,250,400,500]</span><br><span class="line">(7) [100,200,250,360,500]</span><br><span class="line">(8) [100,200,250,360,370]</span><br><span class="line">(9) [100,200,250,360,370,380]</span><br><span class="line">显然该答案是错的，这里由于没有先遍历相同width的最大height值，因此替换insertindex的值会影响插入位置为最末位的情况。</span><br></pre></td></tr></table></figure>

<p>本题，我的代码超时,由于求解时需要遍历i-1之前的所有值，复杂度较高。（有时超时，有时ac，11000多ms）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxEnvelopes</span><span class="params">(self, envelopes)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type envelopes: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> len(envelopes) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        res = []<span class="comment">#res用来存当前需要和envelopes数组里面 比较的元素</span></span><br><span class="line">        <span class="comment"># sorted(envelopes,key=lambda x:x[0])</span></span><br><span class="line">        envelopes.sort(key=<span class="keyword">lambda</span> x:(x[<span class="number">0</span>],-x[<span class="number">1</span>]))</span><br><span class="line">        res.append(envelopes[<span class="number">0</span>])</span><br><span class="line">        dp= [<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(envelopes))]</span><br><span class="line">        <span class="comment"># print(envelopes)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(envelopes)):</span><br><span class="line">            maxtemp = []</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">if</span> envelopes[i][<span class="number">0</span>]&gt;envelopes[j][<span class="number">0</span>] <span class="keyword">and</span> envelopes[i][<span class="number">1</span>]&gt;envelopes[j][<span class="number">1</span>]:</span><br><span class="line">                    <span class="comment"># dp[i] = dp[j]+1</span></span><br><span class="line">                    maxtemp.append(dp[j]+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> len(maxtemp)!=<span class="number">0</span>:</span><br><span class="line">                dp[i]=max(maxtemp)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># print(dp)</span></span><br><span class="line">        <span class="keyword">return</span> max(dp)</span><br></pre></td></tr></table></figure>

<p>参考的大神的优秀代码：(92ms)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"><span class="keyword">import</span> bisect</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">    值得一提的是，这里我学到了新的bisect包</span></span><br><span class="line"><span class="string">    参考网址：https://blog.csdn.net/nightcharm/article/details/79325731</span></span><br><span class="line"><span class="string">    bisect​ ——————这是一个python的针对**有序数组**的插入和排序操作的一个模块</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span><span class="params">(self, nums:List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> n:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        lis = []</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            insert_pos = bisect.bisect_left(lis,num)</span><br><span class="line">            <span class="comment">#找到插入位置</span></span><br><span class="line">            <span class="comment">#bisect_left方法：其目的在于查找该数值将会插入的位置并返回，而不会插入。如果x存在在a中则返回x左边的位置</span></span><br><span class="line">            <span class="keyword">if</span> insert_pos == len(lis):</span><br><span class="line">                lis.append(num)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                lis[insert_pos] = num</span><br><span class="line">        <span class="keyword">return</span> len(lis)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxEnvelopes</span><span class="params">(self, envs:List[List[int]])</span>:</span></span><br><span class="line">        n = len(envs)</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        envs.sort(key=<span class="keyword">lambda</span> t:(t[<span class="number">0</span>],-t[<span class="number">1</span>]))</span><br><span class="line">         <span class="comment">#这里的技巧是 采用heights逆序 可以保证heights的最长递增子序列就是最终结果</span></span><br><span class="line">        heights = [env[<span class="number">1</span>] <span class="keyword">for</span> env <span class="keyword">in</span> envs]</span><br><span class="line">        <span class="keyword">return</span> self.lengthOfLIS(heights)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/03/05/leetcode-32-最长有效括号/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/05/leetcode-32-最长有效括号/" itemprop="url">leetcode 32.最长有效括号</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-05T16:41:56+08:00">
                2019-03-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/05/leetcode-32-最长有效括号/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/03/05/leetcode-32-最长有效括号/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述："><a href="#1-题目描述：" class="headerlink" title="1.题目描述："></a>1.题目描述：</h2><p>&nbsp;&nbsp;给定一个只包含 ‘(‘ 和 ‘)’ 的字符串，找出最长的包含有效括号的子串的长度。</p>
<h3 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">示例1 :</span><br><span class="line"></span><br><span class="line">输入: &quot;(()&quot;</span><br><span class="line">输出: 2</span><br><span class="line">解释: 最长有效括号子串为 &quot;()&quot;</span><br><span class="line"></span><br><span class="line">示例2 :</span><br><span class="line">输入: &quot;)()())&quot;</span><br><span class="line">输出: 4</span><br><span class="line">解释: 最长有效括号子串为 &quot;()()&quot;</span><br></pre></td></tr></table></figure>

<h2 id="2-思路分析"><a href="#2-思路分析" class="headerlink" title="2.思路分析"></a>2.思路分析</h2><p>&nbsp;&nbsp;参考博客<strong><a href="https://blog.csdn.net/weixin_38823568/article/details/80997966" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38823568/article/details/80997966</a></strong><br><br>&nbsp;&nbsp;我们知道动态规划的核心思想就是找到当前状态与之前状态的关系，利用状态转移方程来逐步求解最终的解。<br><br>&nbsp;&nbsp;这里我们可以采用这样的思路：我们从字符串s的最末尾开始遍历数组，用dp[i]表示在位置i上，从i到s末尾的最长有效括号是多少。（这里之所以从后往前遍历，是为了判断方便，我们比较习惯先判断’(‘,再判断’)’）。<br>我们发现状态之间的关系是：若当前s[i]是’(‘，若i+dp[i+1]+1是’)’，则dp[i]=dp[i+1]+2，这里还需继续判断若位置i+dp[i+1]+2上是否存在字符，若存在还需再在dp[i+1]+2基础上加上dp[i+dp[i+1]+2]，因为存在如下情况“(((()))()))”,其中有相邻的都括号都有效的情况。<br><br></p>
<h3 id="Java代码如下"><a href="#Java代码如下" class="headerlink" title="Java代码如下:"></a>Java代码如下:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ( s == <span class="keyword">null</span> ) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> length = s.length() , res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//res存放结果</span></span><br><span class="line">        <span class="comment">//使用动态规划</span></span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = length-<span class="number">2</span>; i&gt;=<span class="number">0</span> ; i--)&#123;</span><br><span class="line">            <span class="keyword">int</span> nearIndex = i + dp[i+<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>( s.charAt(i) == <span class="string">'('</span> &amp;&amp; nearIndex &lt; length &amp;&amp; s.charAt(nearIndex)==<span class="string">')'</span>)&#123;</span><br><span class="line">                dp[i] += dp[i+<span class="number">1</span>] + <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">if</span>(nearIndex+<span class="number">1</span> &lt; length)&#123;</span><br><span class="line">                    dp[i] += dp[nearIndex+<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            res = Math.max(res , dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Python3代码如下："><a href="#Python3代码如下：" class="headerlink" title="Python3代码如下："></a>Python3代码如下：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestValidParentheses</span><span class="params">(self, s: str)</span> -&gt; int:</span></span><br><span class="line">        length = len(s)</span><br><span class="line">        dp = [ <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(length)]</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length<span class="number">-2</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">            nearIndex = i+dp[i+<span class="number">1</span>]+<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> s[i] ==<span class="string">'('</span> <span class="keyword">and</span> nearIndex &lt;length <span class="keyword">and</span> s[nearIndex]==<span class="string">')'</span> :</span><br><span class="line">                    dp[i] = dp[i+<span class="number">1</span>]+<span class="number">2</span></span><br><span class="line">                    <span class="keyword">if</span> nearIndex+<span class="number">1</span> &lt; length:</span><br><span class="line">                        dp[i]+= dp[nearIndex+<span class="number">1</span>]</span><br><span class="line">            res = max(dp[i],res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/02/26/高级算法Homework3-8-分配问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/26/高级算法Homework3-8-分配问题/" itemprop="url">高级算法Homework3_1_分配问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-26T20:04:32+08:00">
                2019-02-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/02/26/高级算法Homework3-8-分配问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/02/26/高级算法Homework3-8-分配问题/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述"><a href="#1-题目描述" class="headerlink" title="1.题目描述"></a>1.题目描述</h2><p>&nbsp;&nbsp;对给定的n个任务与n个人之间的成本矩阵完成成本最低的任务分配策略。</p>
<h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><p>输入：第一行为用例个数，之后为每一个用例；用例的第一行为任务个数，即n；用例的第二行为使用逗号隔开的人员完成任务的成本；每一个成本描述包括人员序号、任务序号和成本，使用空格隔开。人员序号和任务序号都是从1到n的整数，序号出现的次序没有固定规则。</p>
<h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><p>输入：第一行为用例个数，之后为每一个用例；用例的第一行为任务个数，即n；用例的第二行为使用逗号隔开的人员完成任务的成本；每一个成本描述包括人员序号、任务序号和成本，使用空格隔开。人员序号和任务序号都是从1到n的整数，序号出现的次序没有固定规则。</p>
<h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input 1"></a>Sample Input 1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">4</span><br><span class="line">2 1 6,1 2 2,1 3 7,1 4 8,1 1 9,2 2 4,2 3 3,2 4 7,3 1 5,3 2 8,3 3 1,3 4 8,4 1 7,4 2 6,4 3 9,4 4 4</span><br></pre></td></tr></table></figure>

<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output 1"></a>Output 1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 1 3 4</span><br></pre></td></tr></table></figure>

<h2 id="2-思路分析"><a href="#2-思路分析" class="headerlink" title="2.思路分析"></a>2.思路分析</h2><h3 id="回溯法"><a href="#回溯法" class="headerlink" title="回溯法"></a>回溯法</h3><p>参考如下博客<br>作者：nicolas_huan<br>来源：CSDN<br>原文：<a href="https://blog.csdn.net/nicolas_huan/article/details/676" target="_blank" rel="noopener">https://blog.csdn.net/nicolas_huan/article/details/676</a></p>
<p>&nbsp;&nbsp;由于每个人都必须分配到工作，在这里可以建一个二维数组c[i][j]，用以表示i号工人完成j号工作所需的费用。给定一个循环，从第1个工人开始循环分配工作，直到所有工人都分配到。为第i个工人分配工作时，再循环检查每个工作是否已被分配，没有则分配给i号工人，否则检查下一个工作。可以用一个一维数组x[j]来表示第j号工作是否被分配，未分配则x[j]=0，否则x[j]=1。利用回溯思想，在工人循环结束后回到上一工人，取消此次分配的工作，而去分配下一工作直到可以分配为止。这样，一直回溯到第1个工人后，就能得到所有的可行解。在检查工作分配时，其实就是判断取得可行解时的二维数组的一下标都不相同，二下标同样不相同。 </p>
<p>&nbsp;&nbsp;我们利用count来表示当前工作成本总和，同时用res_temp来记录我们遍历到<br>的所有任务，比如前面遍历了任务2,任务1，任务3等等。然后我们拷贝该res_remp,如果当前长度达到了n（总共的任务数），若当前最小成本有不止一个解，我们需要在result里面添加符合条件的res_temp。</p>
<p>&nbsp;&nbsp;此外还有一个重点就是多个解的排序，这里需要介绍一下Python中的list动态地根据多个列进行排序的技巧。</p>
<h3 id="list的动态多列排序"><a href="#list的动态多列排序" class="headerlink" title="list的动态多列排序"></a>list的动态多列排序</h3><p>&nbsp;&nbsp;主要利用的是lambda表达式的eval()函数，eval函数能够把字符串编译成python代码并运行，从而达到动态根据多个列或属性排序的目的。<br><br><br>&nbsp;&nbsp;主要代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mysort</span><span class="params">(sortindex)</span>:</span></span><br><span class="line">    keyset=<span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(sortindex):</span><br><span class="line">        keyset+= <span class="string">"x["</span>+str(i)+<span class="string">"],"</span></span><br><span class="line">    keyset = keyset.rstrip(<span class="string">","</span>)</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">        按照这里把我在网上找的博客https://blog.csdn.net/lianshaohua/article/details/80483357</span></span><br><span class="line"><span class="string">        里的'+',改为','就可以了</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    result.sort(key=<span class="keyword">lambda</span> x:eval(keyset),reverse=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h3 id="全部代码如下："><a href="#全部代码如下：" class="headerlink" title="全部代码如下："></a>全部代码如下：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(result)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(result[<span class="number">0</span>])):</span><br><span class="line">            <span class="keyword">if</span> i == len(result)<span class="number">-1</span> <span class="keyword">and</span> j == len(result[<span class="number">0</span>])<span class="number">-1</span>:</span><br><span class="line">                print(result[i][j])</span><br><span class="line">            <span class="keyword">elif</span> i != len(result)<span class="number">-1</span> <span class="keyword">and</span> j == len(result[<span class="number">0</span>])<span class="number">-1</span>:</span><br><span class="line">                print(result[i][j],end=<span class="string">','</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(result[i][j] , end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mysort</span><span class="params">(sortindex)</span>:</span></span><br><span class="line">    keyset=<span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(sortindex):</span><br><span class="line">        keyset+= <span class="string">"x["</span>+str(i)+<span class="string">"],"</span></span><br><span class="line">    keyset = keyset.rstrip(<span class="string">","</span>)</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">        按照这里把我在网上找的博客https://blog.csdn.net/lianshaohua/article/details/80483357</span></span><br><span class="line"><span class="string">        里的'+',改为','就可以了</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    result.sort(key=<span class="keyword">lambda</span> x:eval(keyset),reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">work</span><span class="params">( i , count , res_temp)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> cost</span><br><span class="line">    res_temp_copy = res_temp.copy()</span><br><span class="line">    <span class="keyword">if</span> i &gt; n :</span><br><span class="line">        <span class="keyword">if</span> count == cost:</span><br><span class="line">            <span class="keyword">if</span> res_temp_copy <span class="keyword">not</span> <span class="keyword">in</span> result:</span><br><span class="line">                result.append(res_temp_copy)</span><br><span class="line">        <span class="keyword">if</span> count &lt; cost:</span><br><span class="line">            result.clear()</span><br><span class="line">            result.append(res_temp_copy)</span><br><span class="line">            cost = count</span><br><span class="line">    <span class="keyword">if</span> count &lt;= cost:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> x[j] == <span class="number">0</span> :</span><br><span class="line">                res_temp.append(j)</span><br><span class="line">                x[j] = <span class="number">1</span></span><br><span class="line">                work(  i + <span class="number">1</span> , count+costMatrix[i][j] , res_temp)</span><br><span class="line">                res_temp.pop()</span><br><span class="line">                x[j] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    numOfExamples = int(input())</span><br><span class="line">    x = [ <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>)]</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> range(numOfExamples):</span><br><span class="line">        n = int(input())</span><br><span class="line">        costMatrix = [[<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> range(n + <span class="number">1</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> range(n + <span class="number">1</span>)]</span><br><span class="line">        strarray = input().split(<span class="string">','</span>)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, len(strarray)):</span><br><span class="line">            temp_array = []</span><br><span class="line">            tempArray = strarray[j].split(<span class="string">' '</span>)</span><br><span class="line">            costMatrix[int(tempArray[<span class="number">0</span>])][int(tempArray[<span class="number">1</span>])] = int(tempArray[<span class="number">2</span>])</span><br><span class="line">        <span class="comment"># print(costMatrix)</span></span><br><span class="line">        cost = <span class="number">0</span></span><br><span class="line">        res_temp = []</span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range( <span class="number">1</span> , len(costMatrix)):</span><br><span class="line">            cost += costMatrix[i][i]</span><br><span class="line">            res_temp.append(i)</span><br><span class="line">        result.append(res_temp)</span><br><span class="line">        work(<span class="number">1</span>,<span class="number">0</span>, [])</span><br><span class="line">        mysort(len(result[<span class="number">0</span>]))</span><br><span class="line">        print1()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/02/15/leetcode309-最佳买卖股票时机含冷冻期/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/15/leetcode309-最佳买卖股票时机含冷冻期/" itemprop="url">leetcode309_最佳买卖股票时机含冷冻期</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-15T11:40:23+08:00">
                2019-02-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/02/15/leetcode309-最佳买卖股票时机含冷冻期/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/02/15/leetcode309-最佳买卖股票时机含冷冻期/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目描述："><a href="#1-题目描述：" class="headerlink" title="1.题目描述："></a>1.题目描述：</h2><p>Say you have an array for which the i<sup>th</sup> element is the price of a given stock on day i.<br><br>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times) with the following restrictions:<br><br>·  You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).<br><br>·  After you sell your stock, you cannot buy stock on next day. (ie, cooldown 1 day)<br></p>
<h3 id="Example："><a href="#Example：" class="headerlink" title="Example："></a>Example：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,3,0,2]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: transactions = [buy, sell, cooldown, buy, sell]</span><br></pre></td></tr></table></figure>

<h2 id="2-思路分析："><a href="#2-思路分析：" class="headerlink" title="2.思路分析："></a>2.思路分析：</h2><h3 id="动态规划："><a href="#动态规划：" class="headerlink" title="动态规划："></a>动态规划：</h3><p>&nbsp;&nbsp;利用<strong>三个dp数组</strong>来表示在位置i上的执行（<strong>buy</strong>,<strong>sell</strong>和<strong>cooldown</strong>）之一所能获得的最大利润。<br><br>&nbsp;&nbsp;对每个dp数组如下维护：<br></p>
<ol>
<li>dp_cooldown数组，在位置i上执行冷冻操作，则说明i-1位置上执行的必然是sell操作</li>
<li>dp_sell数组，在位置i上执行sell操作，要想获得最大利润，有如下情况：<br><br> 1) <strong>i-1</strong>位置之前已经拥有股票了，此时在<strong>i-1</strong>位置也可以卖，为了比较出最大的利润，必须也要在<strong>i-1</strong>卖一下<br> 2) <strong>i-1</strong>位置才买了股票，此时正好在<strong>i</strong>位置上卖出，此时的利润需要计算一下</li>
<li>dp_buy数组，在位置i上执行buy操作，要想获得最大利润，有如下情况：<br> 1) <em>i-2</em>位置之前已经卖掉了股票，并且已经过了冷冻期，换言之就是<em>i-1</em>位置之前不持有股票，此时在<em>i-1</em>位置上也可以买进股票<br> 2) <em>i-2</em>位置持有股票并正好卖出股票，则正好<em>i-1</em>位置是冷冻期，在<em>i</em>位置上买进股票<br><br></li>
<li>最后求三个dp数组的最后元素的最大值，当然我易得肯定不会再最后一天买进股票的，so最后的maxprofit = max(dp_cooldown[len(prices)-1] , dp_sell[len(prices)-1])<br>


</li>
</ol>
<p>&nbsp;&nbsp;AC代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type prices: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">            思路：</span></span><br><span class="line"><span class="string">            动态规划：</span></span><br><span class="line"><span class="string">            利用三个dp数组来表示在位置i上的执行（buy,sell和cooldown）之一所能获得的最大利润</span></span><br><span class="line"><span class="string">            对每个dp数组如下维护：</span></span><br><span class="line"><span class="string">            1. dp_cooldown数组，在位置i上执行冷冻操作，则说明i-1位置上执行的必然是sell操作</span></span><br><span class="line"><span class="string">            2. dp_sell数组，在位置i上执行sell操作，要想获得最大利润，有如下情况：</span></span><br><span class="line"><span class="string">                1)  i-1位置之前已经拥有股票了，此时在i-1位置也可以卖，为了比较出最大的利润，必须也要在i-1卖一下</span></span><br><span class="line"><span class="string">                2)  i-1位置才买了股票，此时正好在i位置上卖出，此时的利润需要计算一下</span></span><br><span class="line"><span class="string">            3. dp_buy数组，在位置i上执行buy操作，要想获得最大利润，有如下情况：</span></span><br><span class="line"><span class="string">                1)  i-2位置之前已经卖掉了股票，并且已经过了冷冻期，换言之就是i-1位置之前不持有股票，此时在i-1位置上也可以买进股票</span></span><br><span class="line"><span class="string">                2)  i-2位置持有股票并正好卖出股票，则正好i-1位置是冷冻期，在i位置上买进股票</span></span><br><span class="line"><span class="string">            最后求三个dp数组的最后元素的最大值，当然我易得肯定不会再最后一天买进股票的，</span></span><br><span class="line"><span class="string">            so最后的maxprofit = max(dp_cooldown[len(prices)-1] , dp_sell[len(prices)-1])</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> prices:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        lenOfPrices = len(prices)</span><br><span class="line">        dp_buy , dp_sell , dp_cooldown = [<span class="number">0</span>] * lenOfPrices, [<span class="number">0</span>]*lenOfPrices , [<span class="number">0</span>]*lenOfPrices</span><br><span class="line">        dp_buy[<span class="number">0</span>] = -prices[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, lenOfPrices):</span><br><span class="line">            dp_cooldown[i] = dp_sell[i<span class="number">-1</span>]</span><br><span class="line">            dp_sell[i] = max(dp_buy[i<span class="number">-1</span>]+prices[i] , dp_sell[i<span class="number">-1</span>] )</span><br><span class="line">            dp_buy[i] = max( dp_cooldown[i<span class="number">-1</span>]-prices[i] , dp_buy[i<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> max(dp_cooldown[lenOfPrices<span class="number">-1</span>] , dp_sell[lenOfPrices<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">solution = Solution()</span><br><span class="line">prices = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">2</span>]</span><br><span class="line">print(solution.maxProfit(prices))</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://weishixin.github.io/2019/02/14/leetcode_304求二维矩阵区域和/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="魏小威">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar_zoro.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="魏小威的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/02/14/leetcode_304求二维矩阵区域和/" itemprop="url">leetcode 304. Range Sum Query 2D - Immutable 解题报告</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-14T16:28:35+08:00">
                2019-02-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/02/14/leetcode_304求二维矩阵区域和/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/02/14/leetcode_304求二维矩阵区域和/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="leetcode-304-Range-Sum-Query-2D-Immutable-解题报告"><a href="#leetcode-304-Range-Sum-Query-2D-Immutable-解题报告" class="headerlink" title="leetcode 304. Range Sum Query 2D - Immutable 解题报告"></a>leetcode 304. Range Sum Query 2D - Immutable 解题报告</h2><h3 id="1-题目描述："><a href="#1-题目描述：" class="headerlink" title="1. 题目描述："></a>1. 题目描述：</h3><p>&nbsp;&nbsp;  Given a 2D matrix matrix, find the sum of the elements inside the rectangle defined by its upper left corner (row1, col1) and lower right corner (row2, col2).</p>
<h4 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Given matrix = [</span><br><span class="line">  [3, 0, 1, 4, 2],</span><br><span class="line">  [5, 6, 3, 2, 1],</span><br><span class="line">  [1, 2, 0, 1, 5],</span><br><span class="line">  [4, 1, 0, 1, 7],</span><br><span class="line">  [1, 0, 3, 0, 5]</span><br><span class="line">]</span><br><span class="line">sumRegion(2, 1, 4, 3) -&gt; 8</span><br><span class="line">sumRegion(1, 1, 2, 2) -&gt; 11</span><br><span class="line">sumRegion(1, 2, 2, 4) -&gt; 12</span><br></pre></td></tr></table></figure>

<h4 id="Note"><a href="#Note" class="headerlink" title="Note:"></a>Note:</h4><ol>
<li>You may assume that the matrix does not change.</li>
<li>There are many calls to sumRegion function.</li>
<li>You may assume that row1 ≤ row2 and col1 ≤ col2.<br><h3 id="2-思路分析："><a href="#2-思路分析：" class="headerlink" title="2. 思路分析："></a>2. 思路分析：</h3>&nbsp;&nbsp;这里需要说明的是，我们之前有个简单的一维的求区间[i,j]上的数字之和。这里需要推广到2D数组上。<br><br>&nbsp;&nbsp;我们可以分析如下图所示:<br><img src="/2019/02/14/leetcode_304求二维矩阵区域和/rectangle1.jpg" alt="avatar"><br><img src="/2019/02/14/leetcode_304求二维矩阵区域和/sum(OA).png" alt="avatar"><br><img src="/2019/02/14/leetcode_304求二维矩阵区域和/sum(OA).png" alt="avatar"><br><img src="/2019/02/14/leetcode_304求二维矩阵区域和/sum(OA).png" alt="avatar"></li>
</ol>
<p>&nbsp;&nbsp;以上述图片展示的区域ABCD为例，该区域的和应当有如下关系：Sum(AD) = Sum(OD)-Sum(OB)-Sum(OC)+Sum(OA);<br><br>&nbsp;&nbsp;从这里我们得到的启示是，我们可以类比一维的，用一个二维数组存现，起始点[0,0]到[i,j]的区域和，在用和与差的方式来求解区域和。由于矩阵不会变，因此，只需一次初始化即可，后面直接调用sumRegion方法即可。可以在O(1)的时间内完成。<br><br>&nbsp;&nbsp;这里我计算初始化矩阵的方法是利用之前的结果，只需遍历原矩阵一次。每次遍历一行的时候用sum计算该行从列序号0到当前列序号j的和的值，然后该元素[i,j]到[0,0]的区域和就等于matrixTemp[i-1,j]+sum。其中matrixTemp就是该初始化矩阵。<br><br>&nbsp;&nbsp;此外还应当注意：如果A点有横坐标或纵坐标为0的情况，此时应当进行分类讨论。<br><br><br>&nbsp;&nbsp;具体情况如以下AC代码所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type matrix: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.matrix = matrix</span><br><span class="line">        self.matrixTemp = [[<span class="number">0</span> <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, len(matrix[<span class="number">0</span>]) )] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(matrix))]</span><br><span class="line">        <span class="comment"># sum = 0</span></span><br><span class="line">        <span class="comment"># 在建立初始化矩阵时利用sum中间变量，并且注意行号为0时的特殊情况处理</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(matrix)):</span><br><span class="line">            sum = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(matrix[<span class="number">0</span>])):</span><br><span class="line">                sum += matrix[i][j]</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">0</span> :</span><br><span class="line">                    self.matrixTemp[i][j] = sum</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self.matrixTemp[i][j] = self.matrixTemp[i<span class="number">-1</span>][j] + sum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumRegion</span><span class="params">(self, row1, col1, row2, col2)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type row1: int</span></span><br><span class="line"><span class="string">        :type col1: int</span></span><br><span class="line"><span class="string">        :type row2: int</span></span><br><span class="line"><span class="string">        :type col2: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> row1 == <span class="number">0</span> <span class="keyword">and</span> col1 == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> self.matrixTemp[row2][col2]</span><br><span class="line">        <span class="keyword">if</span> row1 == <span class="number">0</span> <span class="keyword">and</span> col1 != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> self.matrixTemp[row2][col2] - self.matrixTemp[row2][col1<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">if</span> row1 !=<span class="number">0</span> <span class="keyword">and</span> col1 == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> self.matrixTemp[row2][col2] - self.matrixTemp[row1<span class="number">-1</span>][col2]</span><br><span class="line">        <span class="keyword">if</span> row1 !=<span class="number">0</span> <span class="keyword">and</span> col1 != <span class="number">0</span> :</span><br><span class="line">            <span class="keyword">return</span> self.matrixTemp[row2][col2] - self.matrixTemp[row1<span class="number">-1</span>][col2] - self.matrixTemp[row2][col1<span class="number">-1</span>] + self.matrixTemp[row1<span class="number">-1</span>][col1<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Your NumMatrix object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = NumMatrix(matrix)</span></span><br><span class="line"><span class="comment"># param_1 = obj.sumRegion(row1,col1,row2,col2)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    array = [</span><br><span class="line">  [<span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>],</span><br><span class="line">  [<span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>],</span><br><span class="line">  [<span class="number">4</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">7</span>],</span><br><span class="line">  [<span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">5</span>]</span><br><span class="line">]</span><br><span class="line">    solution = NumMatrix(array)</span><br><span class="line">    print(solution.matrixTemp)</span><br><span class="line">    print(solution.sumRegion(<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>))</span><br><span class="line">    print(solution.sumRegion(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>))</span><br><span class="line">    print(solution.sumRegion(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar_zoro.png" alt="魏小威">
            
              <p class="site-author-name" itemprop="name">魏小威</p>
              <p class="site-description motion-element" itemprop="description">欢迎来到魏小威的新世界！</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">魏小威</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'QHkja7fxLTPQXla2mSubcEXX-gzGzoHsz',
        appKey: 'oUeTLS75sgNKw5WUdti67I0C',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  

  
  

  

  

  

</body>
</html>
